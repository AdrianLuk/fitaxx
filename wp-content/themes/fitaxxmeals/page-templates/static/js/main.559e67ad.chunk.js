(this.webpackJsonpmeals=this.webpackJsonpmeals||[]).push([[0],{15:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a(11),c=a(1),i=a.n(c),l=a(34),r=a.n(l),o=(a(39),a(2)),d=a(4),u=a(10),j=a.n(u),h=a(13),m=a(6),p=a(7),b=a(9),O=a(8),x=(a(41),a(0)),v=function(e){var t=e.step;return Object(x.jsxs)("div",{className:"step-list cell small-12 large-auto",children:[Object(x.jsxs)("div",{className:"step-item "+(t>=1?"is-active":""),children:[Object(x.jsx)("div",{className:"step-index",children:"1"}),Object(x.jsx)("div",{className:"step-name",children:"Choose"})]}),Object(x.jsx)("hr",{className:"step-separator "+(t>1?"is-active":"")}),Object(x.jsxs)("div",{className:"step-item "+(t>=2?"is-active":""),children:[Object(x.jsx)("div",{className:"step-index",children:"2"}),Object(x.jsx)("div",{className:"step-name",children:"Customize"})]}),Object(x.jsx)("hr",{className:"step-separator "+(t>2?"is-active":"")}),Object(x.jsxs)("div",{className:"step-item "+(3===t?"is-active":""),children:[Object(x.jsx)("div",{className:"step-index",children:"3"}),Object(x.jsx)("div",{className:"step-name",children:"Review & Confirm"})]})]})},g=function(e){var t=e.isActive,a=e.text,s=e.group,n=e.handlePackageSelect,c=e.handleSelect,i=e.stateKey,l=e.item;return Object(x.jsxs)("button",{onClick:"goals"===s?c(i,l):n(l),className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:a}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa "+(t?"fa-check":"fa-arrow-right")})]})},f=function(e){var t=e.handleSelect,a=e.handlePackageSelect,s=e.item,n=e.cardTitle,c=e.selectedItem,i=e.buttonText,l=e.description,r=e.stateKey,o=e.group;return Object(x.jsxs)("div",{onClick:"goals"===o?t(r,s):a(s),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+(s.id===c.id?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:n}),Object(x.jsxs)("div",{className:"card-section",children:[l&&Object(x.jsx)("p",{children:l}),Object(x.jsx)(g,{handleClick:function(){"goals"===o?t(r,s):a(s)},item:s,stateKey:r,group:o,handleSelect:t,handlePackageSelect:a,text:i,isActive:s.id===c.id})]})]})},_=(a(19),function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={packages:[]},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.packages,a=e.goals,s=e.handleSelect,n=e.selectedPackage,c=e.selectedGoal,i=e.handlePackageSelect,l=t.map((function(e){return Object(x.jsx)(f,{item:e,stateKey:"selectedPackage",selectedItem:n,handleSelect:i,handlePackageSelect:i,buttonText:"$".concat(e.acf.price),description:"".concat(e.acf.meal_count," Personal Sized Meals"),group:"packages",cardTitle:e.title.rendered},e.id)})),r=a.map((function(e){return Object(x.jsx)(f,{item:e,group:"goals",selectedItem:c,handleSelect:s,stateKey:"selectedGoal",description:e.acf.portion_description,buttonText:parseFloat(e.acf.portion_price)>0?"$".concat(parseFloat(e.acf.portion_price).toFixed(2)):"FREE",cardTitle:e.acf.portion_goal},e.id)}));return Object(x.jsxs)("section",{className:"section section--choose",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select a Package"}),Object(x.jsx)("p",{className:"section__subheading",children:"Choose how many meals you intend to eat per day for six (6) days."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:l})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select Your Goal"}),Object(x.jsx)("p",{className:"section__subheading",children:"We have 3 sizes for you to choose from: 4oz, 6oz, and 8oz (+$1), to help you lose, maintain, and gain weight."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:r})]})]})}}]),a}(c.Component)),y=function(e){var t=e.text,a=e.handleStepChange,s=e.isDisabled,n=e.type;return Object(x.jsx)("button",{className:"pagination__item "+(s?"":"pagination__item--active"),type:n,disabled:s,onClick:a,children:t})},N=(a(43),function(e){var t=e.step,a=e.handleNextStepChange,s=e.handlePrevStepChange,n=e.canProceed;return Object(x.jsxs)("div",{className:"pagination__list",children:[Object(x.jsx)(y,{isDisabled:t<=1,type:"button",text:"Back",handleStepChange:s}),Object(x.jsx)(y,{isDisabled:!n,text:t>2?"Submit":"Next",type:t>2?"submit":"button",handleStepChange:a})]})}),k=function(e){var t=e.options,a=e.selected,s=e.handleSelect,n=e.setVariant,i=e.group,l=e.getDropdown,r=Object(c.useState)(t[0]),d=Object(o.a)(r,2),u=d[0],j=d[1],h=Object(c.useState)(0),m=Object(o.a)(h,2),p=m[0],b=m[1];return Object(c.useEffect)((function(){l(u)}),[u]),Object(x.jsx)("select",{style:{borderRadius:20,paddingLeft:"1rem"},value:p,onChange:function(e){e.preventDefault(),a.id===i.id&&(s(i),n(t[e.target.value])),j(t[e.target.value]),b(e.target.value)},children:t.map((function(e,t){return Object(x.jsx)("option",{value:t,children:"".concat(e.variation," ").concat(parseFloat(e.extra_charge)>0?"(+$".concat(parseFloat(e.extra_charge).toFixed(2),")"):"")},t)}))})},C=function(e){var t,a=e.handleSelect,s=e.group,n=e.stateKey,i=e.variantKey,l=e.setVariant,r=e.selected,d=Object(c.useState)(!1),u=Object(o.a)(d,2),j=u[0],h=u[1],m=Object(c.useState)({}),p=Object(o.a)(m,2),b=p[0],O=p[1];Object(c.useEffect)((function(){r.id===s.id?h(!0):h(!1)}),[r.id,s.id,j]);return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("div",{className:"card small-12 medium-6 large-4 card__item card__item--picture "+(j?"card__item--active":""),children:[s.thumbnail&&Object(x.jsx)("div",{onClick:function(e){e.preventDefault(),a(j?{}:s),i&&l(b)},className:"card-img",style:{backgroundImage:"url(".concat(s.thumbnail,")")}}),Object(x.jsx)("div",{className:"card-divider",children:s.post_title}),Object(x.jsx)("div",{className:"text-center",children:+s.acf.extra_charge?"+ $".concat(parseFloat(s.acf.extra_charge).toFixed(2)):null}),Object(x.jsxs)("div",{style:{paddingTop:+(null===(t=s.acf)||void 0===t?void 0:t.extra_charge)?0:"1rem"},className:"card-section align-right",children:[s.acf.variations&&Object(x.jsx)(k,{group:s,stateKey:n,variantKey:i,options:s.acf.variations,handleSelect:a,setVariant:l,selected:r,dropdownValue:b,getDropdown:function(e){O(e)}}),Object(x.jsxs)("button",{onClick:function(e){e.preventDefault(),a(j?{}:s),i&&l(b)},className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:j?"Selected":"Select"}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa "+(j?"fa-check":"fa-arrow-right")})]})]})]},s.id)})},S=function(e){var t=e.groups,a=e.heading,s=e.headingColor,n=e.subheading,c=e.handleSelect,i=e.hasNone,l=e.stateKey,r=e.selected,o=e.selectedVariant,d=e.setVariant,u=e.groupName,j=e.variantKey,h=t&&(null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(C,{group:e,selected:r,handleSelect:c,selectedVariant:o,setVariant:d,stateKey:l,variantKey:j},e.id)})));return Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading ".concat(s?"section__heading--".concat(s):""),children:a||"Select your ".concat(u)}),Object(x.jsx)("p",{className:"section__subheading",children:n||"Select one ".concat(u," option per order (required)")}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-center",children:h}),i&&Object(x.jsxs)("button",{onClick:function(e){e.preventDefault(),c("No ".concat(u)),d("No ".concat(u))},className:"input-group select-button "+(r==="No ".concat(u)?"select-button--is-active":""),children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:"No ".concat(u)}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa "+(r==="No ".concat(u)?"fa-check":"fa-arrow-right")})]})]})},w=function(e){return 0===Object.entries(e).length&&e.constructor===Object},z=i.a.createContext({}),P=z.Provider,D=(z.Consumer,z),T="carbs",R="salads",F=function(e){var t=e.carbs,a=e.meats,s=e.vegetables,n=e.salads,i=e.fallMenu,l=e.customizationCount,r=e.addToOrder,u=e.currentCustomizationId,j=e.customizationsRemaining,h=e.handleCustomizationAmountIncrement,m=e.handleCustomizationAmountChange,p=e.handleCustomizationAmountDecrement,b=Object(c.useState)({}),O=Object(o.a)(b,2),v=O[0],g=O[1],f=Object(c.useState)({}),_=Object(o.a)(f,2),y=_[0],N=_[1],k=Object(c.useState)({}),C=Object(o.a)(k,2),z=C[0],P=C[1],F=Object(c.useState)({}),L=Object(o.a)(F,2),I=L[0],V=L[1],A=Object(c.useState)({}),U=Object(o.a)(A,2),M=U[0],E=U[1],$=Object(c.useState)(""),G=Object(o.a)($,2),K=G[0],q=G[1],J=Object(c.useState)(0),B=Object(o.a)(J,2),Y=B[0],Q=B[1],H=Object(c.useState)({}),W=Object(o.a)(H,2),Z=W[0],X=W[1],ee=Object(c.useContext)(D),te=Object(c.useMemo)((function(){return{customization_number:u,customization_quantity:l,fall_menu:Z,meat:w(Z)&&!w(z)?I:{},carb:v.type===T?y:v,vegetable:v.type===T?M:{},comments:K,customization_price:Y}}),[y,K,u,Y,l,I,v,Z,z,M]);return Object(c.useEffect)((function(){var e,t,a=0;w(Z)?a=((null===y||void 0===y?void 0:y.extra_charge)?+y.extra_charge*l:0)+((null===I||void 0===I?void 0:I.extra_charge)?+I.extra_charge*l:0)+((null===v||void 0===v?void 0:v.type)!==R&&(null===M||void 0===M||null===(e=M.acf)||void 0===e?void 0:e.extra_charge)?+M.acf.extra_charge*l:0):a=(null===Z||void 0===Z||null===(t=Z.acf)||void 0===t?void 0:t.extra_charge)?+Z.acf.extra_charge*l:0;Q(a)}),[v,y,z,I,M,Z,l]),Object(c.useEffect)((function(){return r(te),function(){}}),[u,z,I,v,y,M,Z,l,Y,K,r,te]),Object(c.useEffect)((function(){P({}),V({}),g({}),N({}),E({}),X({}),q(""),Q(0)}),[u]),Object(x.jsxs)("section",{className:"section section--customize",children:[Object(x.jsxs)("div",{className:"customize__counter",children:[Object(x.jsx)("h5",{className:"section__heading text-center",children:"Choose number of meals for this customization"}),Object(x.jsxs)("div",{className:"input-group plus-minus-input align-center",children:[Object(x.jsx)("div",{className:"input-group-button",children:Object(x.jsx)("button",{onClick:p,type:"button",className:"button hollow circle",children:Object(x.jsx)("i",{className:"fa fa-minus","aria-hidden":"true"})})}),Object(x.jsx)("input",{type:"number",value:l>j?j:l,onChange:m,className:"input-group-field",max:j}),Object(x.jsx)("div",{className:"input-group-button",children:Object(x.jsx)("button",{onClick:h,type:"button",className:"button hollow circle",children:Object(x.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})})]})]}),w(z)&&w(v)&&w(M)&&Object(x.jsx)(S,{groupName:"fall menu",stateKey:"selectedFallMenu",heading:"Our fall menu",headingColor:"orange",subheading:"Try our limited edition fall menu! No substitutions allowed.",selected:Z,handleSelect:X,groups:i,hasNone:!1}),w(Z)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{}),Object(x.jsx)(S,{groupName:"carb",stateKey:"selectedCarb",selected:v,selectedVariant:y,variantKey:"carbVariant",handleSelect:g,setVariant:N,groups:[].concat(Object(d.a)(t),Object(d.a)(n)),hasNone:!0}),Object(x.jsx)("hr",{}),Object(x.jsx)(S,{groupName:"meat",stateKey:"selectedMeat",selected:z,variantKey:"meatVariant",handleSelect:P,setVariant:V,groups:a,hasNone:!1}),(w(v)||v.type!==R)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{}),Object(x.jsx)(S,{groupName:"vegetable",stateKey:"selectedVeg",selected:M,handleSelect:E,groups:s,hasNone:!1})]}),Object(x.jsx)("hr",{})]}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h3",{className:"section__heading",children:"Comments"}),Object(x.jsxs)("p",{className:"section__subheading",children:[Object(x.jsx)("strong",{children:"We also serve halal meat!"})," Please add any comments for this customization"]}),Object(x.jsx)("p",{className:"section__subheading",children:Object(x.jsxs)("em",{children:["Please Note: Items in salad can be removed but not substituted. For more information,"," ",Object(x.jsx)("a",{href:"".concat(ee.baseURL,"/frequently-asked-questions"),children:"click here"})]})}),Object(x.jsx)("div",{className:"customize__textarea-container",children:Object(x.jsx)("textarea",{className:"customize__textarea",value:K,onChange:function(e){return q(e.target.value)},name:"",id:"",rows:4})})]})]})},L=(a(15),"No carb"),I=14,V=i.a.createContext({}),A=V.Provider,U=(V.Consumer,V),M=function(e){var t,a,s,n=e.customizations,i=e.addOns,l=e.selectedPackage,r=e.goal,o=e.shipping,d=e.selectedDelivery,u=e.deliveryOption,j=e.total,h=Object(c.useContext)(U);return Object(x.jsxs)("table",{className:"table unstriped",children:[Object(x.jsx)("thead",{className:"table__head",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Summary"}),Object(x.jsx)("th",{className:"text-center",children:"QTY"}),Object(x.jsx)("th",{className:"text-center",children:"Price"})]})}),Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:l.title.rendered}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(l.acf.price)})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"".concat(l.acf.meal_count,"-meal pack")}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),r&&Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"".concat(r.acf.portion_description)}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:parseFloat(r.acf.portion_price)>0?"$".concat(parseFloat(+r.acf.portion_price*+l.acf.meal_count).toFixed(2)):"Included"})]}),null===n||void 0===n?void 0:n.map((function(e,t){var a,s,n,i,l;return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold table__row--indent-1",children:[Object(x.jsx)("td",{children:"Customized Meal ".concat(t+1)}),Object(x.jsx)("td",{className:"text-center",children:"x".concat(e.customization_quantity)}),Object(x.jsx)("td",{})]}),w(e.fall_menu)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--indent-1-5",children:[Object(x.jsx)("td",{children:e.carb.variation||e.carb.post_title||L}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:+e.carb.extra_charge>0?"$".concat(parseFloat(e.carb.extra_charge*e.customization_quantity).toFixed(2)):""})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1-5",children:[Object(x.jsx)("td",{children:e.meat.variation}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:+e.meat.extra_charge>0?"$".concat(parseFloat(e.meat.extra_charge*e.customization_quantity).toFixed(2)):""})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1-5",children:[Object(x.jsx)("td",{children:e.vegetable.post_title}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:e.vegetable.acf&&e.vegetable.acf.extra_charge?"$".concat(parseFloat(e.vegetable.acf.extra_charge*e.customization_quantity).toFixed(2)):""})]})]}):Object(x.jsxs)("tr",{className:"table__row table__row--indent-1-5",children:[Object(x.jsx)("td",{children:null===(a=e.fall_menu)||void 0===a?void 0:a.post_title}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:+(null===(s=e.fall_menu)||void 0===s||null===(n=s.acf)||void 0===n?void 0:n.extra_charge)>0?"$".concat(parseFloat((null===(i=e.fall_menu)||void 0===i||null===(l=i.acf)||void 0===l?void 0:l.extra_charge)*e.customization_quantity).toFixed(2)):""})]}),e.comments.length>0&&Object(x.jsxs)("tr",{className:"table__row table__row--indent-1-5",children:[Object(x.jsx)("td",{dangerouslySetInnerHTML:{__html:e.comments}}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]})]},t)})),i.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Snacks (+$5.00 each)"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(5*i.reduce((function(e,t){return e+t.count}),0)).toFixed(2))})]}),i.map((function(e){return Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:e.snack.post_title}),Object(x.jsx)("td",{className:"text-bold text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{})]},e.snack.id)}))]}),"default"!==d&&"delivery"===u&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Delivery Location"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:o.delivery_locations[d].location}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(o.delivery_locations[d].price).toFixed(2))})]})]}),!!h.discount&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Promotional Code"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"$".concat(null===(t=h.discount)||void 0===t?void 0:t.discount_amount," off orders over $").concat(null===(a=h.discount)||void 0===a?void 0:a.minimum_order_amount)}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"- $".concat(parseFloat(null===(s=h.discount)||void 0===s?void 0:s.discount_amount).toFixed(2))})]})]})]}),Object(x.jsx)("tfoot",{className:"table__footer",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Total"}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{className:"text-center",children:"$".concat(j.toFixed(2))})]})})]})},E=function(e){var t=e.handleClick,a=e.isActive,s=e.text;return Object(x.jsxs)("button",{onClick:t,className:"input-group select-button "+(a?"select-button--is-active":""),children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:s}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa "+(a?"fa-check":"fa-arrow-right")})]})},$=a(25),G=a.n($),K=(a(45),a(46),a(3)),q=a.n(K),J="none",B="valid",Y="invalid",Q="no_email_or_code",H="no_email",W="no_code",Z="nonexistent_code",X="already_used",ee="minimum_unmet",te=function(e){var t=e.email,a=Object(c.useContext)(U),s=Object(c.useContext)(D),n=Object(c.useState)(!1),i=Object(o.a)(n,2),l=i[0],r=i[1],d=Object(c.useState)(J),u=Object(o.a)(d,2),m=u[0],p=u[1],b=Object(c.useState)(null),O=Object(o.a)(b,2),v=O[0],g=O[1],f=function(){var e=Object(h.a)(j.a.mark((function e(t,s){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("".concat(a.homeUrl,"/wp-json/fitaxx/v1/verify-promo-code"),{params:{email:t,code:s}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(j.a.mark((function e(){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.codeInput){e.next=8;break}return g(Q),p(Y),a.setDiscount(0),r(!1),e.abrupt("return",!1);case 8:if(t){e.next=16;break}return g(H),p(Y),a.setDiscount(0),r(!1),e.abrupt("return",!1);case 16:if(a.codeInput){e.next=22;break}return g(W),p(Y),a.setDiscount(0),r(!1),e.abrupt("return",!1);case 22:return e.next=24,f(t,a.codeInput);case 24:if((n=e.sent).status!==B){e.next=40;break}if(!(+s.total-("default"!==s.selectedDeliveryLocation&&"delivery"===s.deliveryOption?+s.shippingOptions.delivery_locations[s.selectedDeliveryLocation].price:0)<+(null===(c=n.data)||void 0===c?void 0:c.minimum_order_amount))||l){e.next=34;break}return g(ee),p(Y),a.setDiscount(0),r(!1),e.abrupt("return",!1);case 34:g(null),p(B),a.setDiscount(n.data),r(!0);case 38:e.next=45;break;case 40:(null===n||void 0===n?void 0:n.reason)===Z&&g(Z),(null===n||void 0===n?void 0:n.reason)===X&&g(X),p(Y),a.setDiscount(0),r(!1);case 45:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"small-12 cell input-group",children:[Object(x.jsx)("input",{onChange:function(e){a.setCodeInput(e.target.value.toUpperCase().trim())},value:a.codeInput,placeholder:"Promo Code",type:"text",className:"input-group-field logistics__input",style:{borderRight:0}}),Object(x.jsx)("div",{className:"input-group-button",children:Object(x.jsx)("input",{type:"button",value:"Apply Code",className:"logistics__input__button",onClick:_})})]}),function(e,t){var a;switch(t){case Q:a="Please enter your email and a valid promo code.";break;case H:a="Please enter your email in order to apply a promo code.";break;case W:a="Please enter a promo code to be applied.";break;case Z:a="Invalid promo code.";break;case X:a="This email has already used this promo code.";break;case ee:a="Minimum order amount not met.";break;default:a="Unable to apply promo code."}return e!==J?Object(x.jsx)("div",{className:"small-12 cell",children:e===B?Object(x.jsx)("div",{className:"msg success-msg",children:"Promo code successfully applied."}):Object(x.jsx)("div",{className:"msg error-msg",children:a})}):null}(m,v)]})},ae=function(e){var t=e.shipping,a=e.handleSelect,s=e.setDeliveryOption,n=e.deliveryOption,i=(e.deliveryTime,e.setDeliveryTime,e.values),l=e.handleChange,r=e.city,o=(e.setCity,e.email),d=e.isEmailValid,u=e.checkEmail,j=e.setEmail;return Object(x.jsxs)("div",{className:"logistics",children:[Object(x.jsxs)("div",{className:"logistics__grid logistics__buttons grid-x grid-margin-x align-spaced",children:[Object(x.jsx)(E,{isActive:"delivery"===n,handleClick:s("delivery"),text:"Delivery"}),Object(x.jsx)(E,{isActive:"pickup"===n,handleClick:s("pickup"),text:"Pick Up"})]}),Object(x.jsxs)("div",{className:"logistics__grid logistics__form-fields grid-x grid-margin-x",children:["pickup"===n&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("p",{className:"logistics__text small-12 large-5 cell",children:[Object(x.jsx)("span",{className:"logistics__text--label",children:"Pickup Address:"}),Object(x.jsxs)("span",{className:"logistics__text--address",children:["1050 The Queensway",Object(x.jsx)("br",{}),"Etobicoke, ON M8Z 0A8"]})]}),Object(x.jsx)("iframe",{title:"google-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2848.4225986611723!2d-79.51912848270673!3d43.62345496402142!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b37d29a6109d5%3A0x9c6a7f1d70f0128!2s1050+The+Queensway%2C+Etobicoke%2C+ON+M8Z+0A8!5e0!3m2!1sen!2sca!4v1563905780053!5m2!1sen!2sca",className:"small-12 large-7 cell logistics__map",width:"200",height:"200",frameBorder:"0",style:{border:0},allowFullScreen:!0})]}),Object(x.jsx)("input",{onChange:l,value:i.fullName,id:"fullName",placeholder:"Full Name*",type:"text",className:"small-12 cell logistics__input"}),Object(x.jsxs)("div",{className:"small-12 large-6 cell",children:[Object(x.jsx)("input",{onChange:j,onBlur:u,value:o,id:"email",placeholder:"Email*",type:"email",className:"logistics__input"}),!d&&Object(x.jsx)("p",{className:"error-msg",children:"Please enter valid email"})]}),Object(x.jsx)(G.a,{className:"small-12 large-6 cell logistics__input",options:{phone:!0,phoneRegionCode:"CA"},onChange:l,placeholder:"Phone Number*",id:"phone",value:i.phone}),"delivery"===n&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("input",{className:"small-12 cell logistics__input",type:"text",id:"address",onChange:l,value:i.address,placeholder:"Address*"}),Object(x.jsx)("input",{className:"small-12 cell logistics__input",type:"text",id:"address2",onChange:l,value:i.address2,placeholder:"Address Line 2"}),Object(x.jsxs)("select",{onChange:function(e){a(e.target.value)},value:r,id:"city",className:"small-12 large-6 cell logistics__input",children:[Object(x.jsx)("option",{value:"default",disabled:!0,children:"City*"}),t.delivery_locations.map((function(e,t){return Object(x.jsx)("option",{value:t,children:"".concat(e.location," ($").concat(parseFloat(e.price).toFixed(2),")")},t)}))]}),Object(x.jsx)(G.a,{className:"small-12 large-6 cell logistics__input",options:{blocks:[3,3],uppercase:!0},id:"postalCode",onChange:l,value:i.postalCode,placeholder:"Postal Code"})]}),Object(x.jsx)("input",{onChange:l,value:i.specialInstructions,id:"specialInstructions",placeholder:"Special Instructions",type:"text",className:"small-12 cell logistics__input"}),Object(x.jsx)(te,{email:o}),Object(x.jsx)("div",{className:"logistics__message cell small-12 font-normal",children:"Please note: Due to COVID-19, ".concat(n," will be between 10am - 7pm. A text message will be sent ").concat("delivery"===n?"prior to delivery with the ETA.":"when food is ready for pick-up.")})]})]})},se=a(14),ne=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,ce=function(e){var t,a=e.addOns,i=e.customizations,l=e.selectedPackage,r=e.selectedGoal,u=e.shipping,j=e.handleSelect,h=e.selectedDelivery,m=e.deliveryOption,p=e.setDeliveryOption,b=e.deliveryTime,O=e.setDeliveryTime,v=e.total,g=e.isContactValid,f=e.handleIsContactValid,_=e.handleProceed,y=Object(c.useContext)(U),N=Object(c.useState)(i),k=Object(o.a)(N,2),C=k[0],S=k[1],w=Object(c.useState)("cash"),z=Object(o.a)(w,2),P=z[0],D=z[1],T=function(e){return function(t){t.preventDefault(),D(e)}},R=Object(c.useState)(""),F=Object(o.a)(R,2),L=F[0],I=F[1],V=Object(c.useState)(""),A=Object(o.a)(V,2),$=A[0],G=A[1],K=Object(c.useState)(!0),q=Object(o.a)(K,2),J=q[0],B=q[1],Y=function(e){var t=Object(c.useState)(e),a=Object(o.a)(t,2),i=a[0],l=a[1];return[i,function(e){l(Object(n.a)(Object(n.a)({},i),{},Object(s.a)({},e.target.id,e.target.value)))}]}({fullName:"",phone:"",address:"",address2:"",postalCode:"",specialInstructions:""}),Q=Object(o.a)(Y,2),H=Q[0],W=Q[1],Z=function(){B(ne.test($))};return Object(c.useEffect)((function(){var e=Object.keys(i[0]),t=i.map((function(t){return e.map((function(e){var a=e.split("_").map((function(e){return Object(se.capitalize)(e)})).join(" ");return"customization_price"===e?null:"".concat(a,": ").concat(t[e].constructor===Object?t[e]&&t[e].variation?t[e].variation:t[e].post_title||"None":t[e])})).join("\r\n")})),s=a.length>0?a.map((function(e){return"Snack: ".concat(e.snack.post_title,"\n                          Quantity: ").concat(e.count,"\n                          ")})).join("\r\n"):"",n=[].concat(Object(d.a)(t),[s]).join("\r\n");S(n)}),[a,i,C]),Object(c.useEffect)((function(){return I(u.delivery_locations[+h]),I(u.delivery_locations[+h])}),[L,h]),Object(c.useEffect)((function(){"delivery"===m?"default"!==h&&H.fullName.length>0&&H.phone.length>0&&H.address.length>0&&J?f(!0):f(!1):H.fullName.length>0&&H.phone.length>0&&J?f(!0):f(!1),_()}),[m,h,J,H.address,H.fullName,H.phone]),Object(c.useEffect)((function(){_()}),[g]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("section",{className:"section section--review",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Review Your Order"}),Object(x.jsx)("p",{className:"section__subheading",children:"Take a look at your orders and make sure that we have everything you want and need!"}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid",children:[Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(M,{customizations:i,addOns:a,selectedPackage:l,goal:r,shipping:u,selectedDelivery:h,deliveryOption:m,total:v})}),Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(ae,{handleSelect:j,shipping:u,setDeliveryOption:p,deliveryOption:m,values:H,handleChange:W,city:"default"===h?"default":h,email:$,setEmail:function(e){G(e.target.value),Z()},checkEmail:Z,isEmailValid:J,deliveryTime:b,setDeliveryTime:O})})]})]})}),Object(x.jsxs)("section",{className:"section section--payment",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Payment Option"}),Object(x.jsx)("p",{className:"section__subheading",children:"Unfortunately, we currently do not accept pre-payment via credit card or debit card. Cash or e-Transfer only."}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid align-center",children:[Object(x.jsxs)("div",{onClick:T("cash"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("cash"===P?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"Cash"}),Object(x.jsxs)("div",{className:"card-section align-justify",children:[Object(x.jsx)("p",{children:"Deposit Required. Paid on Day-Of."}),Object(x.jsx)(E,{handleClick:T("cash"),text:"cash"===P?"Selected":"Select",isActive:"cash"===P})]})]}),Object(x.jsxs)("div",{onClick:T("etransfer"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("etransfer"===P?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"E-Transfer"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsxs)("p",{children:["Paid to ",Object(x.jsx)("a",{href:"mailto:roundaxxfitness@gmail.com",children:"roundaxxfitness@gmail.com"})]}),Object(x.jsx)("p",{children:"Transferred by Sunday 9PM latest"}),Object(x.jsx)(E,{handleClick:T("etransfer"),text:"etransfer"===P?"Selected":"Select",isActive:"etransfer"===P})]})]})]})]}),Object(x.jsx)("input",{type:"hidden",name:"1",value:H.fullName}),Object(x.jsx)("input",{type:"hidden",name:"2",value:l.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"3",value:r.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"5",value:v.toFixed(2)}),Object(x.jsx)("input",{type:"hidden",name:"6",value:m}),Object(x.jsx)("input",{type:"hidden",name:"7",value:b}),Object(x.jsx)("input",{type:"hidden",name:"8",value:P}),Object(x.jsx)("input",{type:"hidden",name:"18",value:$}),Object(x.jsx)("input",{type:"hidden",name:"10",value:H.phone}),Object(x.jsx)("input",{type:"hidden",name:"11",value:H.address}),Object(x.jsx)("input",{type:"hidden",name:"12",value:H.address2}),Object(x.jsx)("input",{type:"hidden",name:"13",value:null!==(t=null===L||void 0===L?void 0:L.location)&&void 0!==t?t:""}),Object(x.jsx)("input",{type:"hidden",name:"14",value:H.postalCode}),Object(x.jsx)("input",{type:"hidden",name:"15",value:H.specialInstructions}),Object(x.jsx)("input",{type:"hidden",name:"16",value:C}),Object(x.jsx)("input",{type:"hidden",name:"17",value:"No"}),Object(x.jsx)("input",{type:"hidden",name:"19",value:y.codeInput})]})]})},ie=function(e){var t=e.step,a=e.itemCount,s=(e.packagePrice,e.selectedGoal,e.selectedDelivery,e.deliveryOption,e.totalCustomizations),n=e.customizationsRemaining,c=e.total;return Object(x.jsxs)("div",{className:"total",children:[2===t&&Object(x.jsxs)("span",{className:"total__label "+(2===t?"total__label--border-right":""),children:["".concat(s-n," / ").concat(s)," ",Object(x.jsx)("span",{className:"total__label--customize",children:"Customized"})]}),Object(x.jsx)("span",{className:"total__label",children:"".concat(a," Meals")}),c&&Object(x.jsx)("span",{className:"total__price",children:"$".concat(c.toFixed(2))})]})},le=function(e){var t,a=e.group,s=e.itemsRemaining,n=e.handleItemsChange,i=Object(c.useState)(0),l=Object(o.a)(i,2),r=l[0],d=l[1];return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("div",{className:"card small-12 medium-6 large-4 card__item card__item--picture ",children:[(null===a||void 0===a?void 0:a.thumbnail)&&Object(x.jsx)("div",{className:"card-img card-img--no-filter",style:{backgroundImage:"url(".concat(a.thumbnail,")")}}),Object(x.jsx)("div",{className:"card-divider",children:a.post_title}),Object(x.jsx)("div",{className:"text-center",children:+a.acf.extra_charge?"+ $".concat(parseFloat(a.acf.extra_charge).toFixed(2)):null}),Object(x.jsx)("div",{style:{paddingTop:+(null===(t=a.acf)||void 0===t?void 0:t.extra_charge)?0:"1rem"},className:"card-section card-section--snack align-right",children:Object(x.jsxs)("button",{onClick:function(e){e.preventDefault()},className:"input-group select-button select-button--is-snack",children:[Object(x.jsx)("span",{onClick:function(){r>0&&d(r-1),r>0&&n(a,r-1)},className:"input-group-label select-button__icon select-button__icon--before fa fa-minus"}),Object(x.jsx)("span",{className:"input-group-field select-button__text select-button__text--no-bg select-button__text--square",children:r}),Object(x.jsx)("span",{onClick:function(){+s>0&&d(r+1),+s>0&&n(a,r+1)},className:"input-group-label select-button__icon select-button__icon--after fa fa-plus"})]})})]},a.id)})},re=function(e){var t=e.items,a=e.active,s=e.toggleModal,n=e.handleNoThanks,i=Object(c.useContext)(D);return Object(x.jsx)("div",{className:"reveal-overlay",style:{display:a?"block":"none"},children:Object(x.jsxs)("div",{className:"large reveal upsell",tabIndex:"-1",style:{display:a?"block":"none"},children:[Object(x.jsx)("button",{onClick:n,className:"close-btn","aria-label":"Close reveal",type:"button",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(x.jsxs)("div",{className:"modal-header grid-y align-center-middle",children:[Object(x.jsxs)("h2",{className:"section__heading",style:{textAlign:"center"},children:["Would you like to",Object(x.jsx)("br",{className:"show-for-large"})," add a snack/juice?"]}),Object(x.jsxs)("p",{className:"section__subheading",style:{marginBottom:"0.5rem"},children:["You can add up to ",i.allowedAddons," snacks/juices to your order"]}),Object(x.jsx)("h5",{className:"section__heading",style:{marginBottom:"1rem",textTransform:"none"},children:"$5.00 each"}),Object(x.jsx)("button",{onClick:n,type:"button",className:"pagination__item",children:"No Thanks"})]}),Object(x.jsx)("div",{className:"grid-x grid-margin-x grid-container align-justify",children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(le,{itemsRemaining:i.snacksRemaining,handleItemsChange:i.handleSnackChange,group:e},e.id)}))}),Object(x.jsx)("div",{className:"grid-x align-center",children:Object(x.jsx)("button",{className:"pagination__item pagination__item--active",type:"button",onClick:s,children:"Add Items"})})]})})},oe=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(e){var n,c;return Object(m.a)(this,a),(c=t.call(this,e)).getData=Object(h.a)(j.a.mark((function e(){var t,a,s,n,i,l,r,d,u,h,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/types"));case 2:return t=e.sent,e.next=5,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/packages?order=asc&per_page=100"));case 5:return a=e.sent,e.next=8,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/goals?order=asc&per_page=100"));case 8:return s=e.sent,e.next=11,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/carbs?order=asc&per_page=100"));case 11:return n=e.sent,e.next=14,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/meats?order=asc&per_page=100"));case 14:return i=e.sent,e.next=17,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/vegetables?order=asc&per_page=100"));case 17:return l=e.sent,e.next=20,q.a.get("".concat(c.baseURL,"/wp-json/acf/v3/options/options"));case 20:return r=e.sent,e.next=23,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/salads?order=asc&per_page=100"));case 23:return d=e.sent,e.next=26,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snacks?order=asc&per_page=100"));case 26:return u=e.sent,e.next=29,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/fall_menu?order=asc&per_page=100"));case 29:return h=e.sent,e.next=32,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/juice?order=asc&per_page=100"));case 32:m=e.sent,Promise.all([t,a,s,n,i,l,r,d,u,h,m]).then((function(e){var t=Object(o.a)(e,11),a=t[0],s=t[1],n=t[2],i=t[3],l=t[4],r=t[5],d=t[6],u=t[7],j=t[8],h=t[9],m=t[10];c.setState({types:a.data,packages:s.data,goals:n.data,carbs:i.data,meats:l.data,vegetables:r.data,shippingOptions:d.data.acf,deliveryTime:"",salads:u.data,snacks:j.data,fallMenu:h.data,juices:m.data,isDataLoaded:!0})}));case 34:case"end":return e.stop()}}),e)}))),c.scrollToTop=function(){document.getElementById("form-anchor").scrollIntoView({behavior:"smooth",block:"start"})},c.handlePrevStepChange=function(e){e.preventDefault(),c.setState({step:c.state.step-1,modalActive:!0})},c.handleNextStepChange=function(e){if(e.preventDefault(),1===c.state.step)w(c.state.selectedPackage)||w(c.state.selectedGoal)||(c.setState({step:c.state.step+1}),c.scrollToTop());else if(2===c.state.step){if(c.state.customizationsRemaining>0&&w(c.state.currentCustomization.carb)&&w(c.state.currentCustomization.meat)&&!w(c.state.currentCustomization.fall_menu))c.saveCustomization(c.state.currentCustomization);else if(c.state.customizationsRemaining>0&&!w(c.state.currentCustomization.carb)&&!w(c.state.currentCustomization.meat)&&w(c.state.currentCustomization.fall_menu))c.saveCustomization(c.state.currentCustomization);else{if(0!==c.state.customizationsRemaining)return!1;c.setState({step:c.state.step+1})}c.state.customizationsRemaining-c.state.currentCustomizationCount>0?(c.setState({step:2,currentCustomization:{},currentCustomizationId:c.state.currentCustomizationId+1}),c.scrollToTop()):(c.setState({step:c.state.step+1}),c.scrollToTop())}else c.state.isContactValid&&document.getElementById("order-form").submit()},c.addCustomizationToOrder=function(e){c.setState({currentCustomization:e})},c.saveCustomization=function(e){var t=[].concat(Object(d.a)(c.state.customizations),[e]);c.setState({customizations:t,currentCustomization:{},currentCustomizationCount:1,customizationsRemaining:c.state.customizationsRemaining-c.state.currentCustomizationCount})},c.handleCustomizationAmountDecrement=function(e){if(e.preventDefault(),c.state.currentCustomizationCount<=1)return!1;c.setState({currentCustomizationCount:+c.state.currentCustomizationCount-1})},c.handleCustomizationAmountChange=function(e){e.target.value>+c.state.customizationsRemaining?c.setState({currentCustomizationCount:+c.state.customizationsRemaining}):c.setState({currentCustomizationCount:+e.target.value})},c.handleCustomizationAmountIncrement=function(e){e.preventDefault(),+c.state.currentCustomizationCount>=+c.state.customizationsRemaining?c.setState({currentCustomizationCount:+c.state.customizationsRemaining}):c.setState({currentCustomizationCount:+c.state.currentCustomizationCount+1})},c.handlePackageSelect=function(e){return function(t){t.preventDefault(),e.acf&&c.setState({selectedPackage:e,currentCustomizationCount:1,totalCustomizations:+e.acf.meal_count,customizationsRemaining:+e.acf.meal_count})}},c.handleProceed=function(){1===c.state.step&&(w(c.state.selectedPackage)||w(c.state.selectedGoal)?c.setState({canProceed:!1}):c.setState({canProceed:!0}))},c.handleSelect=function(e,t){return function(a){a.preventDefault(),c.setState(Object(s.a)({},e,t))}},c.handleDeliverySelect=function(e){c.setState({selectedDeliveryLocation:e})},c.setDeliveryOption=function(e){return function(t){t.preventDefault(),c.setState({deliveryOption:e})}},c.setDeliveryTime=function(e){return function(t){t.preventDefault(),c.setState({deliveryTime:e})}},c.handleIsContactValid=function(e){c.setState({isContactValid:e})},c.handleSnackChange=function(e,t){c.setState({addOns:[].concat(Object(d.a)(c.state.addOns.filter((function(t){return t.snack.id!==e.id}))),[{snack:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.snack.id-t.snack.id}))})},c.toggleModal=function(e){e.preventDefault(),c.setState({modalActive:!c.state.modalActive})},c.handleNoThanks=function(e){e.preventDefault(),c.setState({modalActive:!c.state.modalActive,addOnsRemaining:14,addOns:[]})},c.renderSections=function(){var e=c.state.step;if(!e)return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})});switch(e){case 1:return Object(x.jsx)(_,{meta:c.state.types,packages:c.state.packages,goals:c.state.goals,handleSelect:c.handleSelect,handlePackageSelect:c.handlePackageSelect,selectedPackage:c.state.selectedPackage,selectedGoal:c.state.selectedGoal});case 2:return Object(x.jsx)(F,{meta:c.state.types,carbs:c.state.carbs,meats:c.state.meats,fallMenu:c.state.fallMenu,customizations:c.state.customizations,vegetables:c.state.vegetables,salads:c.state.salads,currentCustomizationId:c.state.currentCustomizationId,customizationCount:c.state.currentCustomizationCount,handleCustomizationAmountDecrement:c.handleCustomizationAmountDecrement,handleCustomizationAmountChange:c.handleCustomizationAmountChange,handleCustomizationAmountIncrement:c.handleCustomizationAmountIncrement,addToOrder:c.addCustomizationToOrder,customizationsRemaining:c.state.customizationsRemaining});case 3:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce,{customizations:c.state.customizations,selectedPackage:c.state.selectedPackage,selectedGoal:c.state.selectedGoal,selectedDelivery:c.state.selectedDeliveryLocation,shipping:c.state.shippingOptions,handleSelect:c.handleDeliverySelect,deliveryOption:c.state.deliveryOption,setDeliveryOption:c.setDeliveryOption,deliveryTime:c.state.deliveryTime,setDeliveryTime:c.setDeliveryTime,total:c.state.total,isContactValid:c.state.isContactValid,handleIsContactValid:c.handleIsContactValid,handleProceed:c.handleProceed,addOns:c.state.addOns}),Object(x.jsx)(re,{items:[].concat(Object(d.a)(c.state.salads),Object(d.a)(c.state.snacks),Object(d.a)(c.state.juices)),active:c.state.modalActive,toggleModal:c.toggleModal,handleNoThanks:c.handleNoThanks})]});default:return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}},c.state={step:1,isDataLoaded:!1,types:{},packages:[],goals:[],carbs:[],meats:[],vegetables:[],salads:[],juices:[],snacks:[],fallMenu:[],addOns:[],addOnsRemaining:I,shippingOptions:null,selectedPackage:{},packageAmount:1,selectedGoal:{},currentCustomizationCount:1,currentCustomizationId:1,customizationsRemaining:null,totalCustomizations:0,currentCustomization:{},customizations:[],comments:"",selectedDeliveryLocation:"default",deliveryOption:"delivery",deliveryTime:"",isContactValid:!1,canProceed:!1,total:null,modalActive:!0},c.baseURL=(null===(n=c.props)||void 0===n?void 0:n.homeUrl)||"https://fitaxxmeals.com",c}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(t.selectedPackage.id!==this.state.selectedPackage.id&&this.setState({customizations:[]}),t.selectedPackage===this.state.selectedPackage&&t.selectedGoal===this.state.selectedGoal&&t.step===this.state.step||this.handleProceed(),t.currentCustomization!==this.state.currentCustomization&&this.handleProceed(),t.addOns!==this.state.addOns&&this.setState({addOnsRemaining:I-+this.state.addOns.reduce((function(e,t){return e+t.count}),0)}),t.selectedPackage!==this.state.selectedPackage||t.selectedGoal!==this.state.selectedGoal||t.currentCustomization!==this.state.currentCustomization||t.step!==this.state.step||t.selectedDeliveryLocation!==this.state.selectedDeliveryLocation||t.deliveryOption!==this.state.deliveryOption||t.addOns!==this.state.addOns||e.discount!==this.props.discount){var a,s,n,c,i,l,r,o,d,u,j,h,m,p,b=+(null===(a=this.state.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.price)+(this.state.selectedGoal.acf&&this.state.selectedPackage.acf?+this.state.selectedPackage.acf.meal_count*+this.state.selectedGoal.acf.portion_price:0)+("default"!==this.state.selectedDeliveryLocation&&"delivery"===this.state.deliveryOption?+this.state.shippingOptions.delivery_locations[this.state.selectedDeliveryLocation].price:0)+(this.state.currentCustomization.carb!==L&&(null===(n=this.state.currentCustomization)||void 0===n||null===(c=n.carb)||void 0===c?void 0:c.extra_charge)?+this.state.currentCustomization.carb.extra_charge*+this.state.currentCustomization.customization_quantity:0)+((null===(i=this.state.currentCustomization)||void 0===i||null===(l=i.meat)||void 0===l?void 0:l.extra_charge)?+this.state.currentCustomization.meat.extra_charge*+this.state.currentCustomization.customization_quantity:0)+((null===(r=this.state.currentCustomization)||void 0===r||null===(o=r.vegetable)||void 0===o||null===(d=o.acf)||void 0===d?void 0:d.extra_charge)?+this.state.currentCustomization.vegetable.acf.extra_charge*+this.state.currentCustomization.customization_quantity:0)+((null===(u=this.state.currentCustomization)||void 0===u||null===(j=u.fall_menu)||void 0===j||null===(h=j.acf)||void 0===h?void 0:h.extra_charge)?+this.state.currentCustomization.fall_menu.acf.extra_charge*+this.state.currentCustomization.customization_quantity:0)+this.state.customizations.reduce((function(e,t){return e+t.customization_price}),0)+(this.state.addOns.length>0?5*this.state.addOns.reduce((function(e,t){return e+t.count}),0):0)-(this.props.discount?+(null===(m=this.props)||void 0===m||null===(p=m.discount)||void 0===p?void 0:p.discount_amount):0);this.setState({total:b})}}},{key:"render",value:function(){return this.state.isDataLoaded?Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)(P,{value:{baseURL:this.baseURL,handleSnackChange:this.handleSnackChange,snacksRemaining:this.state.addOnsRemaining,allowedAddons:I,total:this.state.total,shippingOptions:this.state.shippingOptions,deliveryOption:this.state.deliveryOption,selectedDeliveryLocation:this.state.selectedDeliveryLocation},children:[Object(x.jsxs)("div",{className:"form__header grid-container grid-x align-justify align-middle",children:[Object(x.jsx)(v,{step:this.state.step}),Object(x.jsx)(ie,{step:this.state.step,itemCount:+this.state.totalCustomizations,packagePrice:this.state.selectedPackage,selectedGoal:this.state.selectedGoal,selectedDelivery:this.state.selectedDeliveryLocation,deliveryOption:this.state.deliveryOption,totalCustomizations:this.state.totalCustomizations,customizationsRemaining:this.state.customizationsRemaining,total:this.state.total})]}),Object(x.jsx)("div",{className:"grid-container",children:this.renderSections()}),Object(x.jsx)(N,{canProceed:this.state.canProceed,handleNextStepChange:this.handleNextStepChange,handlePrevStepChange:this.handlePrevStepChange,step:this.state.step})]})}):Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}}]),a}(c.Component),de=(a(21),function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={packages:[]},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.packages,a=e.selectedPackage,s=e.handlePackageSelect,n=t.map((function(e){return Object(x.jsx)(f,{item:e,stateKey:"selectedPackage",selectedItem:a,handleSelect:s,handlePackageSelect:s,buttonText:"$".concat(parseFloat(e.acf.price).toFixed(2)),description:"".concat(e.acf.size," Snacks"),group:"packages",cardTitle:e.title.rendered},e.id)}));return Object(x.jsx)("section",{className:"section section--choose",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select Snack Package"}),Object(x.jsx)("p",{className:"section__subheading",children:"Choose how many snacks you would like."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:n})]})})}}]),a}(c.Component)),ue=i.a.createContext({}),je=ue.Provider,he=(ue.Consumer,ue),me=function(e){var t,a=e.groups,s=(e.handleSelect,e.hasNone,e.stateKey,e.selected,e.selectedVariant,e.setVariant,e.groupName),n=(e.variantKey,Object(c.useContext)(he)),i=Object(c.useContext)(D),l=a&&a.map((function(e){return Object(x.jsx)(le,{itemsRemaining:i.snacksRemaining,handleItemsChange:i.handleSnackChange,group:e},e.id)}));return Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select your ".concat(s,"s")}),Object(x.jsx)("p",{className:"section__subheading",children:"Select ".concat(null===n||void 0===n||null===(t=n.acf)||void 0===t?void 0:t.size," snacks")}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-center",children:l})]})},pe=function(e){e.carbs,e.meats,e.vegetables,e.snacks;var t=e.salads,a=(e.customizationCount,e.addToOrder,e.currentCustomizationId,e.customizationsRemaining,e.handleCustomizationAmountIncrement,e.handleCustomizationAmountChange,e.handleCustomizationAmountDecrement,e.comments),s=Object(c.useContext)(D);return Object(x.jsxs)("section",{className:"section section--customize",children:[Object(x.jsx)(me,{groupName:"snack",groups:t}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h3",{className:"section__heading",children:"Comments"}),Object(x.jsx)("p",{className:"section__subheading",children:"Please add any comments for your order"}),Object(x.jsx)("p",{className:"section__subheading",children:Object(x.jsxs)("em",{children:["Please Note: Items in salad can be removed but not substituted. For more information,"," ",Object(x.jsx)("a",{href:"".concat(s.baseURL,"/frequently-asked-questions"),children:"click here"})]})}),Object(x.jsx)("div",{className:"customize__textarea-container",children:Object(x.jsx)("textarea",{className:"customize__textarea",value:a,onChange:function(e){return s.handleComments(e.target.value)},name:"",id:"",rows:4})})]})]})},be=function(e){e.customizations;var t=e.selectedPackage,a=(e.goal,e.shipping),s=e.selectedDelivery,n=e.deliveryOption,i=e.total,l=e.snacks,r=Object(c.useContext)(D);return Object(x.jsxs)("table",{className:"table unstriped",children:[Object(x.jsx)("thead",{className:"table__head",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Summary"}),Object(x.jsx)("th",{className:"text-center",children:"QTY"}),Object(x.jsx)("th",{className:"text-center",children:"Price"})]})}),Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:t.title.rendered}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(t.acf.price).toFixed(2))})]}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("tr",{className:"table__row table__row--bold table__row--indent-1",children:[Object(x.jsx)("td",{children:"".concat(e.snack.post_title)}),Object(x.jsx)("td",{className:"text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{})]})},t)})),r.comments.length>0&&Object(x.jsxs)("tr",{className:"table__row",children:[Object(x.jsx)("td",{dangerouslySetInnerHTML:{__html:r.comments.replace(/\n/g,"<br>")}}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),"default"!==s&&"delivery"===n&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Delivery Location"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:a.delivery_locations[s].location}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(a.delivery_locations[s].price).toFixed(2))})]})]})]}),Object(x.jsx)("tfoot",{className:"table__footer",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Total"}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{className:"text-center",children:"$".concat(i.toFixed(2))})]})})]})},Oe=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,xe=function(e){var t,a=e.snacks,i=(e.customizations,e.selectedPackage),l=(e.selectedGoal,e.shipping),r=e.handleSelect,d=e.selectedDelivery,u=e.deliveryOption,j=e.setDeliveryOption,h=e.deliveryTime,m=e.setDeliveryTime,p=e.total,b=e.isContactValid,O=e.handleIsContactValid,v=e.handleProceed,g=Object(c.useState)(""),f=Object(o.a)(g,2),_=f[0],y=f[1],N=Object(c.useState)("cash"),k=Object(o.a)(N,2),C=k[0],S=k[1],w=function(e){return function(t){t.preventDefault(),S(e)}},z=Object(c.useState)(""),P=Object(o.a)(z,2),D=P[0],T=P[1],R=Object(c.useState)(""),F=Object(o.a)(R,2),L=F[0],I=F[1],V=Object(c.useState)(!0),A=Object(o.a)(V,2),U=A[0],M=A[1],$=function(e){var t=Object(c.useState)(e),a=Object(o.a)(t,2),i=a[0],l=a[1];return[i,function(e){l(Object(n.a)(Object(n.a)({},i),{},Object(s.a)({},e.target.id,e.target.value)))}]}({fullName:"",phone:"",address:"",address2:"",postalCode:"",specialInstructions:""}),G=Object(o.a)($,2),K=G[0],q=G[1],J=function(){M(Oe.test(L))};return Object(c.useEffect)((function(){var e=Object.keys(a[0]),t=a.map((function(t){return e.map((function(e){var a=e.split("_").map((function(e){return Object(se.capitalize)(e)})).join(" ");return"customization_price"===e?null:"".concat(a,": ").concat(t[e].constructor===Object?t[e]&&t[e].variation?t[e].variation:t[e].post_title||"None":t[e])})).join("\r\n")}));t=t.join("\r\n"),y(t)}),[a,_]),Object(c.useEffect)((function(){return T(l.delivery_locations[+d]),T(l.delivery_locations[+d])}),[D,d]),Object(c.useEffect)((function(){"delivery"===u?"default"!==d&&K.fullName.length>0&&K.phone.length>0&&K.address.length>0&&U?O(!0):O(!1):K.fullName.length>0&&K.phone.length>0&&U?O(!0):O(!1),v()}),[u,d,U,K.address,K.fullName,K.phone]),Object(c.useEffect)((function(){v()}),[b]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("section",{className:"section section--review",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Review Your Order"}),Object(x.jsx)("p",{className:"section__subheading",children:"Take a look at your orders and make sure that we have everything you want and need!"}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid",children:[Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(be,{snacks:a,selectedPackage:i,shipping:l,selectedDelivery:d,deliveryOption:u,total:p})}),Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(ae,{handleSelect:r,shipping:l,setDeliveryOption:j,deliveryOption:u,values:K,handleChange:q,city:"default"===d?"default":d,email:L,setEmail:function(e){I(e.target.value),J()},checkEmail:J,isEmailValid:U,deliveryTime:h,setDeliveryTime:m})})]})]})}),Object(x.jsxs)("section",{className:"section section--payment",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Payment Option"}),Object(x.jsx)("p",{className:"section__subheading",children:"Unfortunately, we currently do not accept pre-payment via credit card or debit card. Cash or e-Transfer only."}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid align-center",children:[Object(x.jsxs)("div",{onClick:w("cash"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("cash"===C?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"Cash"}),Object(x.jsxs)("div",{className:"card-section align-justify",children:[Object(x.jsx)("p",{children:"Deposit Required. Paid on Day-Of."}),Object(x.jsx)(E,{handleClick:w("cash"),text:"cash"===C?"Selected":"Select",isActive:"cash"===C})]})]}),Object(x.jsxs)("div",{onClick:w("etransfer"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("etransfer"===C?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"E-Transfer"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsxs)("p",{children:["Paid to ",Object(x.jsx)("a",{href:"mailto:roundaxxfitness@gmail.com",children:"roundaxxfitness@gmail.com"})]}),Object(x.jsx)("p",{children:"Transferred by Sunday 9PM latest"}),Object(x.jsx)(E,{handleClick:w("etransfer"),text:"etransfer"===C?"Selected":"Select",isActive:"etransfer"===C})]})]})]})]}),Object(x.jsx)("input",{type:"hidden",name:"1",value:K.fullName}),Object(x.jsx)("input",{type:"hidden",name:"2",value:i.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"5",value:p.toFixed(2)}),Object(x.jsx)("input",{type:"hidden",name:"6",value:u}),Object(x.jsx)("input",{type:"hidden",name:"7",value:h}),Object(x.jsx)("input",{type:"hidden",name:"8",value:C}),Object(x.jsx)("input",{type:"hidden",name:"18",value:L}),Object(x.jsx)("input",{type:"hidden",name:"10",value:K.phone}),Object(x.jsx)("input",{type:"hidden",name:"11",value:K.address}),Object(x.jsx)("input",{type:"hidden",name:"12",value:K.address2}),Object(x.jsx)("input",{type:"hidden",name:"13",value:null!==(t=null===D||void 0===D?void 0:D.location)&&void 0!==t?t:""}),Object(x.jsx)("input",{type:"hidden",name:"14",value:K.postalCode}),Object(x.jsx)("input",{type:"hidden",name:"15",value:K.specialInstructions}),Object(x.jsx)("input",{type:"hidden",name:"16",value:_}),Object(x.jsx)("input",{type:"hidden",name:"17",value:"No"})]})]})},ve=function(e){e.step;var t=e.itemCount,a=(e.packagePrice,e.selectedGoal,e.selectedDelivery,e.deliveryOption,e.totalCustomizations,e.customizationsRemaining,e.total);return Object(x.jsxs)("div",{className:"total",children:[Object(x.jsx)("span",{className:"total__label",children:"".concat(t||0," Snacks")}),a&&Object(x.jsx)("span",{className:"total__price",children:"$".concat(a.toFixed(2))})]})},ge=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(e){var n,c;return Object(m.a)(this,a),(c=t.call(this,e)).getData=Object(h.a)(j.a.mark((function e(){var t,a,s,n,i,l,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/types"));case 2:return t=e.sent,e.next=5,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/packages?order=asc&per_page=100"));case 5:return a=e.sent,e.next=8,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/goals?order=asc&per_page=100"));case 8:return s=e.sent,e.next=11,q.a.get("".concat(c.baseURL,"/wp-json/acf/v3/options/options"));case 11:return n=e.sent,e.next=14,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/salads?order=asc&per_page=100"));case 14:return i=e.sent,e.next=17,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snacks?order=asc&per_page=100"));case 17:return l=e.sent,e.next=20,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snack_sizes?order=asc&per_page=100"));case 20:r=e.sent,Promise.all([t,a,s,n,i,l,r]).then((function(e){var t=Object(o.a)(e,7),a=t[0],s=t[1],n=t[2],i=t[3],l=t[4],r=t[5],d=t[6];c.setState({types:a.data,packages:s.data,goals:n.data,shippingOptions:i.data.acf,deliveryTime:"",salads:l.data,snacks:r.data,snackSizes:d.data,isDataLoaded:!0})}));case 22:case"end":return e.stop()}}),e)}))),c.scrollToTop=function(){document.getElementById("form-anchor").scrollIntoView({behavior:"smooth",block:"start"})},c.isEmptyObject=function(e){return 0===Object.entries(e).length&&e.constructor===Object},c.handlePrevStepChange=function(e){e.preventDefault(),c.setState({step:c.state.step-1})},c.handleNextStepChange=function(e){if(e.preventDefault(),1===c.state.step)c.isEmptyObject(c.state.selectedPackage)||(c.setState({step:c.state.step+1}),c.scrollToTop());else if(2===c.state.step){if(0!==c.state.snacksRemaining)return!1;c.setState({step:c.state.step+1})}else c.state.isContactValid&&document.getElementById("order-form").submit()},c.handlePackageSelect=function(e){return function(t){t.preventDefault(),e.acf&&c.setState({selectedPackage:e,snacksRemaining:+e.acf.size})}},c.handleSnackChange=function(e,t){c.setState({selectedSnacks:[].concat(Object(d.a)(c.state.selectedSnacks.filter((function(t){return t.snack.id!==e.id}))),[{snack:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.snack.id-t.snack.id}))})},c.handleComments=function(e){c.setState({comments:e})},c.handleProceed=function(){1===c.state.step&&(c.isEmptyObject(c.state.selectedPackage)?c.setState({canProceed:!1}):c.setState({canProceed:!0}))},c.handleSelect=function(e,t){return function(a){a.preventDefault(),c.setState(Object(s.a)({},e,t))}},c.handleDeliverySelect=function(e){c.setState({selectedDeliveryLocation:e})},c.setDeliveryOption=function(e){return function(t){t.preventDefault(),c.setState({deliveryOption:e})}},c.setDeliveryTime=function(e){return function(t){t.preventDefault(),c.setState({deliveryTime:e})}},c.handleIsContactValid=function(e){c.setState({isContactValid:e})},c.renderSections=function(){var e=c.state.step;if(!e)return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})});switch(e){case 1:return Object(x.jsx)(de,{meta:c.state.types,packages:c.state.snackSizes,handlePackageSelect:c.handlePackageSelect,selectedPackage:c.state.selectedPackage});case 2:return Object(x.jsx)(pe,{salads:[].concat(Object(d.a)(c.state.salads),Object(d.a)(c.state.snacks))});case 3:return Object(x.jsx)(xe,{snacks:c.state.selectedSnacks,selectedPackage:c.state.selectedPackage,selectedDelivery:c.state.selectedDeliveryLocation,shipping:c.state.shippingOptions,handleSelect:c.handleDeliverySelect,deliveryOption:c.state.deliveryOption,setDeliveryOption:c.setDeliveryOption,deliveryTime:c.state.deliveryTime,setDeliveryTime:c.setDeliveryTime,total:c.state.total,isContactValid:c.state.isContactValid,handleIsContactValid:c.handleIsContactValid,handleProceed:c.handleProceed});default:return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}},c.state={step:1,isDataLoaded:!1,types:{},packages:[],goals:[],salads:[],snackSizes:[],snacks:[],selectedSnacks:[],shippingOptions:null,selectedPackage:{},packageAmount:1,selectedGoal:{},currentCustomizationCount:1,currentCustomizationId:1,customizationsRemaining:null,snacksRemaining:null,totalCustomizations:0,currentCustomization:{},customizations:[],comments:"",selectedDeliveryLocation:"default",deliveryOption:"delivery",deliveryTime:"",isContactValid:!1,canProceed:!1,total:null},c.baseURL=(null===(n=c.props)||void 0===n?void 0:n.homeUrl)||"https://fitaxxmeals.com",c}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(t.selectedPackage===this.state.selectedPackage&&t.step===this.state.step||this.handleProceed(),t.selectedPackage!==this.state.selectedPackage||t.step!==this.state.step||t.selectedDeliveryLocation!==this.state.selectedDeliveryLocation||t.deliveryOption!==this.state.deliveryOption){var a,s,n=+(null===(a=this.state.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.price)+("default"!==this.state.selectedDeliveryLocation&&"delivery"===this.state.deliveryOption?+this.state.shippingOptions.delivery_locations[this.state.selectedDeliveryLocation].price:0);this.setState({total:n})}var c,i;t.selectedSnacks!==this.state.selectedSnacks&&this.setState({snacksRemaining:+(null===(c=this.state.selectedPackage)||void 0===c||null===(i=c.acf)||void 0===i?void 0:i.size)-+this.state.selectedSnacks.reduce((function(e,t){return e+t.count}),0)})}},{key:"render",value:function(){var e,t,a,s;return this.state.isDataLoaded?Object(x.jsx)(P,{value:{baseURL:this.baseURL,handleSnackChange:this.handleSnackChange,snacksRemaining:this.state.snacksRemaining,handleComments:this.handleComments,comments:this.state.comments,selectedSnacks:this.state.selectedSnacks},children:Object(x.jsxs)(je,{value:null===(e=this.state)||void 0===e?void 0:e.selectedPackage,children:[Object(x.jsxs)("div",{className:"form__header grid-container grid-x align-justify align-middle",children:[Object(x.jsx)(v,{step:this.state.step}),Object(x.jsx)(ve,{itemCount:+(null===(t=this.state)||void 0===t||null===(a=t.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.size),total:this.state.total})]}),Object(x.jsx)("div",{className:"grid-container",children:this.renderSections()}),Object(x.jsx)(N,{canProceed:this.state.canProceed,handleNextStepChange:this.handleNextStepChange,handlePrevStepChange:this.handlePrevStepChange,step:this.state.step})]})}):Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}}]),a}(c.Component),fe=(a(66),a(22),function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={packages:[]},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.packages,a=e.goals,s=e.handleSelect,n=e.selectedPackage,c=e.selectedGoal,i=e.handlePackageSelect,l=t.map((function(e){return Object(x.jsx)(f,{item:e,stateKey:"selectedPackage",selectedItem:n,handleSelect:i,handlePackageSelect:i,buttonText:"$".concat(e.acf.price),description:"".concat(e.acf.meal_count," Personal Sized Meals"),group:"packages",cardTitle:e.title.rendered},e.id)})),r=a.map((function(e){return Object(x.jsx)(f,{item:e,group:"goals",selectedItem:c,handleSelect:s,stateKey:"selectedGoal",description:e.acf.portion_description,buttonText:parseFloat(e.acf.portion_price)>0?"$".concat(parseFloat(e.acf.portion_price).toFixed(2)):"FREE",cardTitle:e.acf.portion_goal},e.id)}));return Object(x.jsxs)("section",{className:"section section--choose",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select a Package"}),Object(x.jsx)("p",{className:"section__subheading",children:"Choose how many meals you intend to eat per day for six (6) days."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:l})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select Your Goal"}),Object(x.jsx)("p",{className:"section__subheading",children:"We have 3 sizes for you to choose from: 4oz, 6oz, and 8oz (+$1), to help you lose, maintain, and gain weight."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:r})]})]})}}]),a}(c.Component)),_e=function(e){var t,a=e.groups,s=(e.handleSelect,e.hasNone,e.stateKey,e.selected,e.selectedVariant,e.setVariant,e.groupName),n=(e.variantKey,Object(c.useContext)(he)),i=Object(c.useContext)(D),l=a&&a.map((function(e){return Object(x.jsx)(le,{group:e,itemsRemaining:i.vegansRemaining,handleItemsChange:i.handleVeganChange},e.id)}));return Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select your ".concat(s,"s")}),Object(x.jsxs)("p",{className:"section__subheading",children:["Please note: All vegan salads do ",Object(x.jsx)("strong",{children:"NOT"})," include cheese"]}),Object(x.jsx)("p",{className:"section__subheading",children:"Select your ".concat(null===n||void 0===n||null===(t=n.acf)||void 0===t?void 0:t.meal_count," items from our vegan menu (required)")}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-center",children:l})]})},ye=function(e){e.carbs,e.meats,e.vegetables,e.snacks,e.salads;var t=e.vegans,a=(e.customizationCount,e.addToOrder,e.currentCustomizationId,e.customizationsRemaining,e.handleCustomizationAmountIncrement,e.handleCustomizationAmountChange,e.handleCustomizationAmountDecrement,e.comments),s=Object(c.useContext)(D);return Object(x.jsxs)("section",{className:"section section--customize",children:[Object(x.jsx)(_e,{groupName:"vegan menu item",groups:t}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h3",{className:"section__heading",children:"Comments"}),Object(x.jsx)("p",{className:"section__subheading",children:"Please add any comments for your order"}),Object(x.jsx)("p",{className:"section__subheading",children:Object(x.jsxs)("em",{children:["Please Note: Items in meals can be removed but not substituted. For more information,"," ",Object(x.jsx)("a",{href:"".concat(s.baseURL,"/frequently-asked-questions"),children:"click here"})]})}),Object(x.jsx)("div",{className:"customize__textarea-container",children:Object(x.jsx)("textarea",{className:"customize__textarea",value:a,onChange:function(e){return s.handleComments(e.target.value)},name:"",id:"",rows:4})})]})]})},Ne=function(e){var t,a,s,n=e.selectedPackage,i=e.addOns,l=e.vegans,r=e.goal,o=e.shipping,d=e.selectedDelivery,u=e.deliveryOption,j=e.total,h=Object(c.useContext)(D),m=Object(c.useContext)(U);return Object(x.jsxs)("table",{className:"table unstriped",children:[Object(x.jsx)("thead",{className:"table__head",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Summary"}),Object(x.jsx)("th",{className:"text-center",children:"QTY"}),Object(x.jsx)("th",{className:"text-center",children:"Price"})]})}),Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:n.title.rendered}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(n.acf.price).toFixed(2))})]}),r&&Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"".concat(r.acf.portion_description)}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:parseFloat(r.acf.portion_price)>0?"$".concat(parseFloat(+r.acf.portion_price*+n.acf.meal_count).toFixed(2)):"Included"})]}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"".concat(e.vegan.post_title)}),Object(x.jsx)("td",{className:"text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{})]})},t)})),h.comments.length>0&&Object(x.jsxs)("tr",{className:"table__row",children:[Object(x.jsx)("td",{dangerouslySetInnerHTML:{__html:h.comments.replace(/\n/g,"<br>")}}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),i.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Snacks (+$5.00 each)"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(5*i.reduce((function(e,t){return e+t.count}),0)).toFixed(2))})]}),i.map((function(e){return Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:e.snack.post_title}),Object(x.jsx)("td",{className:"text-bold text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{})]},e.snack.id)}))]}),"default"!==d&&"delivery"===u&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Delivery Location"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:o.delivery_locations[d].location}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(o.delivery_locations[d].price).toFixed(2))})]})]}),!!m.discount&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Promotional Code"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"$".concat(null===(t=m.discount)||void 0===t?void 0:t.discount_amount," off orders over $").concat(null===(a=m.discount)||void 0===a?void 0:a.minimum_order_amount)}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"- $".concat(parseFloat(null===(s=m.discount)||void 0===s?void 0:s.discount_amount).toFixed(2))})]})]})]}),Object(x.jsx)("tfoot",{className:"table__footer",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Total"}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{className:"text-center",children:"$".concat(j.toFixed(2))})]})})]})},ke=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,Ce=function(e){e.snacks;var t,a=e.vegans,i=e.addOns,l=(e.customizations,e.selectedPackage),r=e.selectedGoal,u=e.shipping,j=e.handleSelect,h=e.selectedDelivery,m=e.deliveryOption,p=e.setDeliveryOption,b=e.deliveryTime,O=e.setDeliveryTime,v=e.total,g=e.isContactValid,f=e.handleIsContactValid,_=e.handleProceed,y=Object(c.useContext)(U),N=Object(c.useState)(""),k=Object(o.a)(N,2),C=k[0],S=k[1],w=Object(c.useState)("cash"),z=Object(o.a)(w,2),P=z[0],D=z[1],T=function(e){return function(t){t.preventDefault(),D(e)}},R=Object(c.useState)(""),F=Object(o.a)(R,2),L=F[0],I=F[1],V=Object(c.useState)(""),A=Object(o.a)(V,2),M=A[0],$=A[1],G=Object(c.useState)(!0),K=Object(o.a)(G,2),q=K[0],J=K[1],B=function(e){var t=Object(c.useState)(e),a=Object(o.a)(t,2),i=a[0],l=a[1];return[i,function(e){l(Object(n.a)(Object(n.a)({},i),{},Object(s.a)({},e.target.id,e.target.value)))}]}({fullName:"",phone:"",address:"",address2:"",postalCode:"",specialInstructions:""}),Y=Object(o.a)(B,2),Q=Y[0],H=Y[1],W=function(){J(ke.test(M))};return Object(c.useEffect)((function(){var e=Object.keys(a[0]),t=a.map((function(t){return e.map((function(e){var a=e.split("_").map((function(e){return Object(se.capitalize)(e)})).join(" ");return"customization_price"===e?null:"".concat(a,": ").concat(t[e].constructor===Object?t[e]&&t[e].variation?t[e].variation:t[e].post_title||"None":t[e])})).join("\r\n")})),s=i.length>0?i.map((function(e){return"Snack: ".concat(e.snack.post_title,"\n            Quantity: ").concat(e.count,"\n            ")})).join("\r\n"):"",n=[].concat(Object(d.a)(t),[s]).join("\r\n");S(n)}),[a,i,C]),Object(c.useEffect)((function(){return I(u.delivery_locations[+h]),I(u.delivery_locations[+h])}),[L,h]),Object(c.useEffect)((function(){"delivery"===m?"default"!==h&&Q.fullName.length>0&&Q.phone.length>0&&Q.address.length>0&&q?f(!0):f(!1):Q.fullName.length>0&&Q.phone.length>0&&q?f(!0):f(!1),_()}),[m,h,q,Q.address,Q.fullName,Q.phone]),Object(c.useEffect)((function(){_()}),[g]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("section",{className:"section section--review",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Review Your Order"}),Object(x.jsx)("p",{className:"section__subheading",children:"Take a look at your orders and make sure that we have everything you want and need!"}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid",children:[Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(Ne,{vegans:a,addOns:i,selectedPackage:l,shipping:u,goal:r,selectedDelivery:h,deliveryOption:m,total:v})}),Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(ae,{handleSelect:j,shipping:u,setDeliveryOption:p,deliveryOption:m,values:Q,handleChange:H,city:"default"===h?"default":h,email:M,setEmail:function(e){$(e.target.value),W()},checkEmail:W,isEmailValid:q,deliveryTime:b,setDeliveryTime:O})})]})]})}),Object(x.jsxs)("section",{className:"section section--payment",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Payment Option"}),Object(x.jsx)("p",{className:"section__subheading",children:"Unfortunately, we currently do not accept pre-payment via credit card or debit card. Cash or e-Transfer only."}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid align-center",children:[Object(x.jsxs)("div",{onClick:T("cash"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("cash"===P?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"Cash"}),Object(x.jsxs)("div",{className:"card-section align-justify",children:[Object(x.jsx)("p",{children:"Deposit Required. Paid on Day-Of."}),Object(x.jsx)(E,{handleClick:T("cash"),text:"cash"===P?"Selected":"Select",isActive:"cash"===P})]})]}),Object(x.jsxs)("div",{onClick:T("etransfer"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("etransfer"===P?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"E-Transfer"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsxs)("p",{children:["Paid to ",Object(x.jsx)("a",{href:"mailto:roundaxxfitness@gmail.com",children:"roundaxxfitness@gmail.com"})]}),Object(x.jsx)("p",{children:"Transferred by Sunday 9PM latest"}),Object(x.jsx)(E,{handleClick:T("etransfer"),text:"etransfer"===P?"Selected":"Select",isActive:"etransfer"===P})]})]})]})]}),Object(x.jsx)("input",{type:"hidden",name:"1",value:Q.fullName}),Object(x.jsx)("input",{type:"hidden",name:"2",value:l.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"3",value:r.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"5",value:v.toFixed(2)}),Object(x.jsx)("input",{type:"hidden",name:"6",value:m}),Object(x.jsx)("input",{type:"hidden",name:"7",value:b}),Object(x.jsx)("input",{type:"hidden",name:"8",value:P}),Object(x.jsx)("input",{type:"hidden",name:"18",value:M}),Object(x.jsx)("input",{type:"hidden",name:"10",value:Q.phone}),Object(x.jsx)("input",{type:"hidden",name:"11",value:Q.address}),Object(x.jsx)("input",{type:"hidden",name:"12",value:Q.address2}),Object(x.jsx)("input",{type:"hidden",name:"13",value:null!==(t=null===L||void 0===L?void 0:L.location)&&void 0!==t?t:""}),Object(x.jsx)("input",{type:"hidden",name:"14",value:Q.postalCode}),Object(x.jsx)("input",{type:"hidden",name:"15",value:Q.specialInstructions}),Object(x.jsx)("input",{type:"hidden",name:"16",value:C}),Object(x.jsx)("input",{type:"hidden",name:"17",value:"No"}),Object(x.jsx)("input",{type:"hidden",name:"19",value:y.codeInput})]})]})},Se=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(e){var n,c;return Object(m.a)(this,a),(c=t.call(this,e)).getData=Object(h.a)(j.a.mark((function e(){var t,a,s,n,i,l,r,d,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/types"));case 2:return t=e.sent,e.next=5,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/packages?order=asc&per_page=100"));case 5:return a=e.sent,e.next=8,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/goals?order=asc&per_page=100"));case 8:return s=e.sent,e.next=11,q.a.get("".concat(c.baseURL,"/wp-json/acf/v3/options/options"));case 11:return n=e.sent,e.next=14,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/salads?order=asc&per_page=100"));case 14:return i=e.sent,e.next=17,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snacks?order=asc&per_page=100"));case 17:return l=e.sent,e.next=20,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snack_sizes?order=asc&per_page=100"));case 20:return r=e.sent,e.next=23,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/vegan?order=asc&per_page=100"));case 23:return d=e.sent,e.next=26,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/juice?order=asc&per_page=100"));case 26:u=e.sent,Promise.all([t,a,s,n,i,l,r,d,u]).then((function(e){var t=Object(o.a)(e,9),a=t[0],s=t[1],n=t[2],i=t[3],l=t[4],r=t[5],d=t[6],u=t[7],j=t[8];c.setState({types:a.data,packages:s.data,goals:n.data,shippingOptions:i.data.acf,deliveryTime:"",salads:l.data,snacks:r.data,snackSizes:d.data,vegans:u.data,juices:j.data,isDataLoaded:!0})}));case 28:case"end":return e.stop()}}),e)}))),c.scrollToTop=function(){document.getElementById("form-anchor").scrollIntoView({behavior:"smooth",block:"start"})},c.handlePrevStepChange=function(e){e.preventDefault(),c.setState({step:c.state.step-1,modalActive:!0})},c.handleNextStepChange=function(e){if(e.preventDefault(),1===c.state.step)w(c.state.selectedPackage)||w(c.state.selectedGoal)||(c.setState({step:c.state.step+1}),c.scrollToTop());else if(2===c.state.step){if(0!==c.state.vegansRemaining)return!1;c.setState({step:c.state.step+1})}else c.state.isContactValid&&document.getElementById("order-form").submit()},c.handlePackageSelect=function(e){return function(t){t.preventDefault(),e.acf&&c.setState({selectedPackage:e,vegansRemaining:+e.acf.meal_count})}},c.handleVeganChange=function(e,t){c.setState({selectedVegans:[].concat(Object(d.a)(c.state.selectedVegans.filter((function(t){return t.vegan.id!==e.id}))),[{vegan:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.vegan.id-t.vegan.id}))})},c.handleSnackChange=function(e,t){c.setState({addOns:[].concat(Object(d.a)(c.state.addOns.filter((function(t){return t.snack.id!==e.id}))),[{snack:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.snack.id-t.snack.id}))})},c.handleComments=function(e){c.setState({comments:e})},c.handleProceed=function(){1===c.state.step&&(w(c.state.selectedPackage)?c.setState({canProceed:!1}):c.setState({canProceed:!0}))},c.handleSelect=function(e,t){return function(a){a.preventDefault(),c.setState(Object(s.a)({},e,t))}},c.handleDeliverySelect=function(e){c.setState({selectedDeliveryLocation:e})},c.setDeliveryOption=function(e){return function(t){t.preventDefault(),c.setState({deliveryOption:e})}},c.setDeliveryTime=function(e){return function(t){t.preventDefault(),c.setState({deliveryTime:e})}},c.handleIsContactValid=function(e){c.setState({isContactValid:e})},c.toggleModal=function(e){e.preventDefault(),c.setState({modalActive:!c.state.modalActive})},c.handleNoThanks=function(e){e.preventDefault(),c.setState({modalActive:!c.state.modalActive,addOnsRemaining:14,addOns:[]})},c.renderSections=function(){var e=c.state.step;if(!e)return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})});switch(e){case 1:return Object(x.jsx)(fe,{meta:c.state.types,packages:c.state.packages,goals:c.state.goals,handleSelect:c.handleSelect,handlePackageSelect:c.handlePackageSelect,selectedPackage:c.state.selectedPackage,selectedGoal:c.state.selectedGoal});case 2:return Object(x.jsx)(ye,{vegans:c.state.vegans});case 3:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ce,{vegans:c.state.selectedVegans,selectedPackage:c.state.selectedPackage,selectedGoal:c.state.selectedGoal,selectedDelivery:c.state.selectedDeliveryLocation,shipping:c.state.shippingOptions,handleSelect:c.handleDeliverySelect,deliveryOption:c.state.deliveryOption,setDeliveryOption:c.setDeliveryOption,deliveryTime:c.state.deliveryTime,setDeliveryTime:c.setDeliveryTime,total:c.state.total,isContactValid:c.state.isContactValid,handleIsContactValid:c.handleIsContactValid,handleProceed:c.handleProceed,addOns:c.state.addOns}),Object(x.jsx)(re,{items:[].concat(Object(d.a)(c.state.salads),Object(d.a)(c.state.snacks),Object(d.a)(c.state.juices)),active:c.state.modalActive,toggleModal:c.toggleModal,handleNoThanks:c.handleNoThanks})]});default:return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}},c.state={step:1,isDataLoaded:!1,types:{},packages:[],goals:[],vegans:[],selectedVegans:[],vegansRemaining:null,salads:[],juices:[],snackSizes:[],snacks:[],selectedSnacks:[],addOns:[],addOnsRemaining:I,shippingOptions:null,selectedPackage:{},packageAmount:1,selectedGoal:{},snacksRemaining:null,totalCustomizations:0,currentCustomization:{},customizations:[],comments:"",selectedDeliveryLocation:"default",deliveryOption:"delivery",deliveryTime:"",isContactValid:!1,canProceed:!1,total:null,modalActive:!0},c.baseURL=(null===(n=c.props)||void 0===n?void 0:n.homeUrl)||"https://fitaxxmeals.com",c}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(t.selectedPackage===this.state.selectedPackage&&t.step===this.state.step||this.handleProceed(),t.addOns!==this.state.addOns&&this.setState({addOnsRemaining:I-+this.state.addOns.reduce((function(e,t){return e+t.count}),0)}),t.selectedPackage!==this.state.selectedPackage||t.selectedGoal!==this.state.selectedGoal||t.step!==this.state.step||t.selectedDeliveryLocation!==this.state.selectedDeliveryLocation||t.deliveryOption!==this.state.deliveryOption||t.addOns!==this.state.addOns||e.discount!==this.props.discount){var a,s,n,c,i=+(null===(a=this.state.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.price)+(this.state.selectedGoal.acf&&this.state.selectedPackage.acf?+this.state.selectedPackage.acf.meal_count*+this.state.selectedGoal.acf.portion_price:0)+("default"!==this.state.selectedDeliveryLocation&&"delivery"===this.state.deliveryOption?+this.state.shippingOptions.delivery_locations[this.state.selectedDeliveryLocation].price:0)+(this.state.addOns.length>0?5*this.state.addOns.reduce((function(e,t){return e+t.count}),0):0)-(this.props.discount?+(null===(n=this.props)||void 0===n||null===(c=n.discount)||void 0===c?void 0:c.discount_amount):0);this.setState({total:i})}var l,r;t.selectedVegans!==this.state.selectedVegans&&this.setState({vegansRemaining:+(null===(l=this.state.selectedPackage)||void 0===l||null===(r=l.acf)||void 0===r?void 0:r.meal_count)-+this.state.selectedVegans.reduce((function(e,t){return e+t.count}),0)})}},{key:"render",value:function(){var e,t,a,s;return this.state.isDataLoaded?Object(x.jsx)(P,{value:{baseURL:this.baseURL,handleSnackChange:this.handleSnackChange,snacksRemaining:this.state.addOnsRemaining,handleComments:this.handleComments,comments:this.state.comments,vegansRemaining:this.state.vegansRemaining,handleVeganChange:this.handleVeganChange,allowedAddons:I,total:this.state.total,shippingOptions:this.state.shippingOptions,deliveryOption:this.state.deliveryOption,selectedDeliveryLocation:this.state.selectedDeliveryLocation},children:Object(x.jsxs)(je,{value:null===(e=this.state)||void 0===e?void 0:e.selectedPackage,children:[Object(x.jsxs)("div",{className:"form__header grid-container grid-x align-justify align-middle",children:[Object(x.jsx)(v,{step:this.state.step}),Object(x.jsx)(ve,{itemCount:+(null===(t=this.state)||void 0===t||null===(a=t.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.meal_count),total:this.state.total})]}),Object(x.jsx)("div",{className:"grid-container",children:this.renderSections()}),Object(x.jsx)(N,{canProceed:this.state.canProceed,handleNextStepChange:this.handleNextStepChange,handlePrevStepChange:this.handlePrevStepChange,step:this.state.step})]})}):Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}}]),a}(c.Component),we=(a(23),function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={packages:[]},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.packages,a=e.selectedPackage,s=e.handlePackageSelect,n=t.map((function(e){return Object(x.jsx)(f,{item:e,stateKey:"selectedPackage",selectedItem:a,handleSelect:s,handlePackageSelect:s,buttonText:"$".concat(parseFloat(e.acf.price).toFixed(2)),description:"".concat(e.acf.size," Juices"),group:"packages",cardTitle:e.title.rendered},e.id)}));return Object(x.jsx)("section",{className:"section section--choose",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select Juice Package"}),Object(x.jsx)("p",{className:"section__subheading",children:"Choose how many juices you would like."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:n})]})})}}]),a}(c.Component)),ze=function(e){var t,a=e.groups,s=(e.handleSelect,e.hasNone,e.stateKey,e.selected,e.selectedVariant,e.setVariant,e.groupName),n=(e.variantKey,Object(c.useContext)(he)),i=Object(c.useContext)(D),l=a&&a.map((function(e){return Object(x.jsx)(le,{itemsRemaining:i.juicesRemaining,handleItemsChange:i.handleJuiceChange,group:e},e.id)}));return Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select your ".concat(s,"s")}),Object(x.jsx)("p",{className:"section__subheading",children:"Select ".concat(null===n||void 0===n||null===(t=n.acf)||void 0===t?void 0:t.size," juices")}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-center",children:l})]})},Pe=function(e){e.carbs,e.meats,e.vegetables,e.snacks;var t=e.juices,a=(e.customizationCount,e.addToOrder,e.currentCustomizationId,e.customizationsRemaining,e.handleCustomizationAmountIncrement,e.handleCustomizationAmountChange,e.handleCustomizationAmountDecrement,e.comments),s=Object(c.useContext)(D);return Object(x.jsxs)("section",{className:"section section--customize",children:[Object(x.jsx)(ze,{groupName:"juice",groups:t}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h3",{className:"section__heading",children:"Comments"}),Object(x.jsx)("p",{className:"section__subheading",children:"Please add any comments for your order"}),Object(x.jsx)("div",{className:"customize__textarea-container",children:Object(x.jsx)("textarea",{className:"customize__textarea",value:a,onChange:function(e){return s.handleComments(e.target.value)},name:"",id:"",rows:4})})]})]})},De=function(e){e.customizations;var t=e.selectedPackage,a=(e.goal,e.shipping),s=e.selectedDelivery,n=e.deliveryOption,i=e.total,l=e.juices,r=Object(c.useContext)(D);return Object(x.jsxs)("table",{className:"table unstriped",children:[Object(x.jsx)("thead",{className:"table__head",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Summary"}),Object(x.jsx)("th",{className:"text-center",children:"QTY"}),Object(x.jsx)("th",{className:"text-center",children:"Price"})]})}),Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:t.title.rendered}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(t.acf.price).toFixed(2))})]}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("tr",{className:"table__row table__row--bold table__row--indent-1",children:[Object(x.jsx)("td",{children:"".concat(e.juice.post_title)}),Object(x.jsx)("td",{className:"text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{})]})},t)})),r.comments.length>0&&Object(x.jsxs)("tr",{className:"table__row",children:[Object(x.jsx)("td",{dangerouslySetInnerHTML:{__html:r.comments.replace(/\n/g,"<br>")}}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),"default"!==s&&"delivery"===n&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Delivery Location"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:a.delivery_locations[s].location}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(a.delivery_locations[s].price).toFixed(2))})]})]})]}),Object(x.jsx)("tfoot",{className:"table__footer",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Total"}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{className:"text-center",children:"$".concat(i.toFixed(2))})]})})]})},Te=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,Re=function(e){var t,a=e.juices,i=(e.customizations,e.selectedPackage),l=(e.selectedGoal,e.shipping),r=e.handleSelect,d=e.selectedDelivery,u=e.deliveryOption,j=e.setDeliveryOption,h=e.deliveryTime,m=e.setDeliveryTime,p=e.total,b=e.isContactValid,O=e.handleIsContactValid,v=e.handleProceed,g=Object(c.useState)(""),f=Object(o.a)(g,2),_=f[0],y=f[1],N=Object(c.useState)("cash"),k=Object(o.a)(N,2),C=k[0],S=k[1],w=function(e){return function(t){t.preventDefault(),S(e)}},z=Object(c.useState)(""),P=Object(o.a)(z,2),D=P[0],T=P[1],R=Object(c.useState)(""),F=Object(o.a)(R,2),L=F[0],I=F[1],V=Object(c.useState)(!0),A=Object(o.a)(V,2),U=A[0],M=A[1],$=function(e){var t=Object(c.useState)(e),a=Object(o.a)(t,2),i=a[0],l=a[1];return[i,function(e){l(Object(n.a)(Object(n.a)({},i),{},Object(s.a)({},e.target.id,e.target.value)))}]}({fullName:"",phone:"",address:"",address2:"",postalCode:"",specialInstructions:""}),G=Object(o.a)($,2),K=G[0],q=G[1],J=function(){M(Te.test(L))};return Object(c.useEffect)((function(){var e=Object.keys(a[0]),t=a.map((function(t){return e.map((function(e){var a=e.split("_").map((function(e){return Object(se.capitalize)(e)})).join(" ");return"customization_price"===e?null:"".concat(a,": ").concat(t[e].constructor===Object?t[e]&&t[e].variation?t[e].variation:t[e].post_title||"None":t[e])})).join("\r\n")}));t=t.join("\r\n"),y(t)}),[a,_]),Object(c.useEffect)((function(){return T(l.delivery_locations[+d]),T(l.delivery_locations[+d])}),[D,d]),Object(c.useEffect)((function(){"delivery"===u?"default"!==d&&K.fullName.length>0&&K.phone.length>0&&K.address.length>0&&U?O(!0):O(!1):K.fullName.length>0&&K.phone.length>0&&U?O(!0):O(!1),v()}),[u,d,U,K.address,K.fullName,K.phone]),Object(c.useEffect)((function(){v()}),[b]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("section",{className:"section section--review",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Review Your Order"}),Object(x.jsx)("p",{className:"section__subheading",children:"Take a look at your orders and make sure that we have everything you want and need!"}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid",children:[Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(De,{juices:a,selectedPackage:i,shipping:l,selectedDelivery:d,deliveryOption:u,total:p})}),Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(ae,{handleSelect:r,shipping:l,setDeliveryOption:j,deliveryOption:u,values:K,handleChange:q,city:"default"===d?"default":d,email:L,setEmail:function(e){I(e.target.value),J()},checkEmail:J,isEmailValid:U,deliveryTime:h,setDeliveryTime:m})})]})]})}),Object(x.jsxs)("section",{className:"section section--payment",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Payment Option"}),Object(x.jsx)("p",{className:"section__subheading",children:"Unfortunately, we currently do not accept pre-payment via credit card or debit card. Cash or e-Transfer only."}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid align-center",children:[Object(x.jsxs)("div",{onClick:w("cash"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("cash"===C?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"Cash"}),Object(x.jsxs)("div",{className:"card-section align-justify",children:[Object(x.jsx)("p",{children:"Deposit Required. Paid on Day-Of."}),Object(x.jsx)(E,{handleClick:w("cash"),text:"cash"===C?"Selected":"Select",isActive:"cash"===C})]})]}),Object(x.jsxs)("div",{onClick:w("etransfer"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("etransfer"===C?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"E-Transfer"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsxs)("p",{children:["Paid to ",Object(x.jsx)("a",{href:"mailto:roundaxxfitness@gmail.com",children:"roundaxxfitness@gmail.com"})]}),Object(x.jsx)("p",{children:"Transferred by Sunday 9PM latest"}),Object(x.jsx)(E,{handleClick:w("etransfer"),text:"etransfer"===C?"Selected":"Select",isActive:"etransfer"===C})]})]})]})]}),Object(x.jsx)("input",{type:"hidden",name:"1",value:K.fullName}),Object(x.jsx)("input",{type:"hidden",name:"2",value:i.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"5",value:p.toFixed(2)}),Object(x.jsx)("input",{type:"hidden",name:"6",value:u}),Object(x.jsx)("input",{type:"hidden",name:"7",value:h}),Object(x.jsx)("input",{type:"hidden",name:"8",value:C}),Object(x.jsx)("input",{type:"hidden",name:"18",value:L}),Object(x.jsx)("input",{type:"hidden",name:"10",value:K.phone}),Object(x.jsx)("input",{type:"hidden",name:"11",value:K.address}),Object(x.jsx)("input",{type:"hidden",name:"12",value:K.address2}),Object(x.jsx)("input",{type:"hidden",name:"13",value:null!==(t=null===D||void 0===D?void 0:D.location)&&void 0!==t?t:""}),Object(x.jsx)("input",{type:"hidden",name:"14",value:K.postalCode}),Object(x.jsx)("input",{type:"hidden",name:"15",value:K.specialInstructions}),Object(x.jsx)("input",{type:"hidden",name:"16",value:_}),Object(x.jsx)("input",{type:"hidden",name:"17",value:"No"})]})]})},Fe=function(e){e.step;var t=e.itemCount,a=(e.packagePrice,e.selectedGoal,e.selectedDelivery,e.deliveryOption,e.totalCustomizations,e.customizationsRemaining,e.total);return Object(x.jsxs)("div",{className:"total",children:[Object(x.jsx)("span",{className:"total__label",children:"".concat(t||0," Snacks")}),a&&Object(x.jsx)("span",{className:"total__price",children:"$".concat(a.toFixed(2))})]})},Le=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(e){var n,c;return Object(m.a)(this,a),(c=t.call(this,e)).getData=Object(h.a)(j.a.mark((function e(){var t,a,s,n,i,l,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/types"));case 2:return t=e.sent,e.next=5,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/packages?order=asc&per_page=100"));case 5:return a=e.sent,e.next=8,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/goals?order=asc&per_page=100"));case 8:return s=e.sent,e.next=11,q.a.get("".concat(c.baseURL,"/wp-json/acf/v3/options/options"));case 11:return n=e.sent,e.next=14,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/salads?order=asc&per_page=100"));case 14:return i=e.sent,e.next=17,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/juice?order=asc&per_page=100"));case 17:return l=e.sent,e.next=20,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/juice_size?order=desc&per_page=100"));case 20:r=e.sent,Promise.all([t,a,s,n,i,l,r]).then((function(e){var t=Object(o.a)(e,7),a=t[0],s=t[1],n=t[2],i=t[3],l=t[4],r=t[5],d=t[6];c.setState({types:a.data,packages:s.data,goals:n.data,shippingOptions:i.data.acf,deliveryTime:"",salads:l.data,juices:r.data,juiceSizes:d.data,isDataLoaded:!0})}));case 22:case"end":return e.stop()}}),e)}))),c.scrollToTop=function(){document.getElementById("form-anchor").scrollIntoView({behavior:"smooth",block:"start"})},c.isEmptyObject=function(e){return 0===Object.entries(e).length&&e.constructor===Object},c.handlePrevStepChange=function(e){e.preventDefault(),c.setState({step:c.state.step-1})},c.handleNextStepChange=function(e){if(e.preventDefault(),1===c.state.step)c.isEmptyObject(c.state.selectedPackage)||(c.setState({step:c.state.step+1}),c.scrollToTop());else if(2===c.state.step){if(0!==c.state.juicesRemaining)return!1;c.setState({step:c.state.step+1})}else c.state.isContactValid&&document.getElementById("order-form").submit()},c.handlePackageSelect=function(e){return function(t){t.preventDefault(),e.acf&&c.setState({selectedPackage:e,juicesRemaining:+e.acf.size})}},c.handleJuiceChange=function(e,t){c.setState({selectedJuices:[].concat(Object(d.a)(c.state.selectedJuices.filter((function(t){return t.juice.id!==e.id}))),[{juice:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.juice.id-t.juice.id}))})},c.handleComments=function(e){c.setState({comments:e})},c.handleProceed=function(){1===c.state.step&&(c.isEmptyObject(c.state.selectedPackage)?c.setState({canProceed:!1}):c.setState({canProceed:!0}))},c.handleSelect=function(e,t){return function(a){a.preventDefault(),c.setState(Object(s.a)({},e,t))}},c.handleDeliverySelect=function(e){c.setState({selectedDeliveryLocation:e})},c.setDeliveryOption=function(e){return function(t){t.preventDefault(),c.setState({deliveryOption:e})}},c.setDeliveryTime=function(e){return function(t){t.preventDefault(),c.setState({deliveryTime:e})}},c.handleIsContactValid=function(e){c.setState({isContactValid:e})},c.renderSections=function(){var e=c.state.step;if(!e)return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})});switch(e){case 1:return Object(x.jsx)(we,{meta:c.state.types,packages:c.state.juiceSizes,handlePackageSelect:c.handlePackageSelect,selectedPackage:c.state.selectedPackage});case 2:return Object(x.jsx)(Pe,{juices:c.state.juices});case 3:return Object(x.jsx)(Re,{juices:c.state.selectedJuices,selectedPackage:c.state.selectedPackage,selectedDelivery:c.state.selectedDeliveryLocation,shipping:c.state.shippingOptions,handleSelect:c.handleDeliverySelect,deliveryOption:c.state.deliveryOption,setDeliveryOption:c.setDeliveryOption,deliveryTime:c.state.deliveryTime,setDeliveryTime:c.setDeliveryTime,total:c.state.total,isContactValid:c.state.isContactValid,handleIsContactValid:c.handleIsContactValid,handleProceed:c.handleProceed});default:return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}},c.state={step:1,isDataLoaded:!1,types:{},packages:[],goals:[],salads:[],juiceSizes:[],juices:[],selectedJuices:[],shippingOptions:null,selectedPackage:{},packageAmount:1,selectedGoal:{},currentCustomizationCount:1,currentCustomizationId:1,customizationsRemaining:null,juicesRemaining:null,totalCustomizations:0,currentCustomization:{},customizations:[],comments:"",selectedDeliveryLocation:"default",deliveryOption:"delivery",deliveryTime:"",isContactValid:!1,canProceed:!1,total:null},c.baseURL=(null===(n=c.props)||void 0===n?void 0:n.homeUrl)||"https://fitaxxmeals.com",c}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(t.selectedPackage===this.state.selectedPackage&&t.step===this.state.step||this.handleProceed(),t.selectedPackage!==this.state.selectedPackage||t.step!==this.state.step||t.selectedDeliveryLocation!==this.state.selectedDeliveryLocation||t.deliveryOption!==this.state.deliveryOption){var a,s,n=+(null===(a=this.state.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.price)+("default"!==this.state.selectedDeliveryLocation&&"delivery"===this.state.deliveryOption?+this.state.shippingOptions.delivery_locations[this.state.selectedDeliveryLocation].price:0);this.setState({total:n})}var c,i;t.selectedJuices!==this.state.selectedJuices&&this.setState({juicesRemaining:+(null===(c=this.state.selectedPackage)||void 0===c||null===(i=c.acf)||void 0===i?void 0:i.size)-+this.state.selectedJuices.reduce((function(e,t){return e+t.count}),0)})}},{key:"render",value:function(){var e,t,a,s;return this.state.isDataLoaded?Object(x.jsx)(P,{value:{baseURL:this.baseURL,handleJuiceChange:this.handleJuiceChange,juicesRemaining:this.state.juicesRemaining,handleComments:this.handleComments,comments:this.state.comments,selectedJuices:this.state.selectedJuices},children:Object(x.jsxs)(je,{value:null===(e=this.state)||void 0===e?void 0:e.selectedPackage,children:[Object(x.jsxs)("div",{className:"form__header grid-container grid-x align-justify align-middle",children:[Object(x.jsx)(v,{step:this.state.step}),Object(x.jsx)(Fe,{itemCount:+(null===(t=this.state)||void 0===t||null===(a=t.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.size),total:this.state.total})]}),Object(x.jsx)("div",{className:"grid-container",children:this.renderSections()}),Object(x.jsx)(N,{canProceed:this.state.canProceed,handleNextStepChange:this.handleNextStepChange,handlePrevStepChange:this.handlePrevStepChange,step:this.state.step})]})}):Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}}]),a}(c.Component),Ie=(a(24),function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={packages:[]},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.packages,a=e.goals,s=e.handleSelect,n=e.selectedPackage,c=e.selectedGoal,i=e.handlePackageSelect,l=t.map((function(e){return Object(x.jsx)(f,{item:e,stateKey:"selectedPackage",selectedItem:n,handleSelect:i,handlePackageSelect:i,buttonText:"$".concat(e.acf.price),description:"".concat(e.acf.meal_count," Personal Sized Meals"),group:"packages",cardTitle:e.title.rendered},e.id)})),r=a.map((function(e){return Object(x.jsx)(f,{item:e,group:"goals",selectedItem:c,handleSelect:s,stateKey:"selectedGoal",description:e.acf.portion_description,buttonText:parseFloat(e.acf.portion_price)>0?"$".concat(parseFloat(e.acf.portion_price).toFixed(2)):"FREE",cardTitle:e.acf.portion_goal},e.id)}));return Object(x.jsxs)("section",{className:"section section--choose",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select a Package"}),Object(x.jsx)("p",{className:"section__subheading",children:"Choose how many meals you intend to eat per day for six (6) days."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:l})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select Your Goal"}),Object(x.jsx)("p",{className:"section__subheading",children:"We have 3 sizes for you to choose from: 4oz, 6oz, and 8oz (+$1), to help you lose, maintain, and gain weight."}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:r})]})]})}}]),a}(c.Component)),Ve=function(e){var t,a=e.groups,s=(e.handleSelect,e.hasNone,e.stateKey,e.selected,e.selectedVariant,e.setVariant,e.groupName),n=(e.variantKey,Object(c.useContext)(he)),i=Object(c.useContext)(D),l=a&&a.map((function(e){return Object(x.jsx)(le,{group:e,itemsRemaining:i.fallMenusRemaining,handleItemsChange:i.handleFallMenuChange},e.id)}));return Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Select your ".concat(s,"s")}),Object(x.jsx)("p",{className:"section__subheading",children:"Select your ".concat(null===n||void 0===n||null===(t=n.acf)||void 0===t?void 0:t.meal_count," items from our premade options (required)")}),Object(x.jsx)("div",{className:"section__grid grid-x grid-margin-x align-center",children:l})]})},Ae=function(e){e.carbs,e.meats,e.vegetables,e.snacks,e.salads,e.vegans;var t=e.fallMenus,a=(e.customizationCount,e.addToOrder,e.currentCustomizationId,e.customizationsRemaining,e.handleCustomizationAmountIncrement,e.handleCustomizationAmountChange,e.handleCustomizationAmountDecrement,e.comments),s=Object(c.useContext)(D);return Object(x.jsxs)("section",{className:"section section--customize",children:[Object(x.jsx)(Ve,{groupName:"premade item",groups:t}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h3",{className:"section__heading",children:"Comments"}),Object(x.jsx)("p",{className:"section__subheading",children:"Please add any comments for your order"}),Object(x.jsx)("p",{className:"section__subheading",children:Object(x.jsxs)("em",{children:["Please Note: Items in meals can be removed but not substituted. For more information,"," ",Object(x.jsx)("a",{href:"".concat(s.baseURL,"/frequently-asked-questions"),children:"click here"})]})}),Object(x.jsx)("div",{className:"customize__textarea-container",children:Object(x.jsx)("textarea",{className:"customize__textarea",value:a,onChange:function(e){return s.handleComments(e.target.value)},name:"",id:"",rows:4})})]})]})},Ue=function(e){var t,a,s,n=e.selectedPackage,i=e.addOns,l=e.fallMenus,r=e.goal,o=e.shipping,d=e.selectedDelivery,u=e.deliveryOption,j=e.total,h=Object(c.useContext)(D),m=Object(c.useContext)(U);return Object(x.jsxs)("table",{className:"table unstriped",children:[Object(x.jsx)("thead",{className:"table__head",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Summary"}),Object(x.jsx)("th",{className:"text-center",children:"QTY"}),Object(x.jsx)("th",{className:"text-center",children:"Price"})]})}),Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:n.title.rendered}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(n.acf.price).toFixed(2))})]}),r&&Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"".concat(r.acf.portion_description)}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:parseFloat(r.acf.portion_price)>0?"$".concat(parseFloat(+r.acf.portion_price*+n.acf.meal_count).toFixed(2)):"Included"})]}),null===l||void 0===l?void 0:l.map((function(e,t){var a,s,n,i,l,r,o,d;return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"".concat(e.item.post_title," ").concat(+(null===e||void 0===e||null===(a=e.item)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.extra_charge)?"(+$".concat(parseFloat(null===e||void 0===e||null===(n=e.item)||void 0===n||null===(i=n.acf)||void 0===i?void 0:i.extra_charge).toFixed(2)," each)"):"")}),Object(x.jsx)("td",{className:"text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{children:+(null===e||void 0===e||null===(l=e.item)||void 0===l||null===(r=l.acf)||void 0===r?void 0:r.extra_charge)?"$".concat(parseFloat((null===e||void 0===e||null===(o=e.item)||void 0===o||null===(d=o.acf)||void 0===d?void 0:d.extra_charge)*e.count).toFixed(2)):null})]})},t)})),h.comments.length>0&&Object(x.jsxs)("tr",{className:"table__row",children:[Object(x.jsx)("td",{dangerouslySetInnerHTML:{__html:h.comments.replace(/\n/g,"<br>")}}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),i.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Snacks (+$5.00 each)"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(5*i.reduce((function(e,t){return e+t.count}),0)).toFixed(2))})]}),i.map((function(e){return Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:e.snack.post_title}),Object(x.jsx)("td",{className:"text-bold text-center",children:"x".concat(e.count)}),Object(x.jsx)("td",{})]},e.snack.id)}))]}),"default"!==d&&"delivery"===u&&Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Delivery Location"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:o.delivery_locations[d].location}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"$".concat(parseFloat(o.delivery_locations[d].price).toFixed(2))})]})]}),!!m.discount&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{className:"table__row table__row--bold",children:[Object(x.jsx)("td",{children:"Promotional Code"}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]}),Object(x.jsxs)("tr",{className:"table__row table__row--indent-1",children:[Object(x.jsx)("td",{children:"$".concat(null===(t=m.discount)||void 0===t?void 0:t.discount_amount," off orders over $").concat(null===(a=m.discount)||void 0===a?void 0:a.minimum_order_amount)}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"- $".concat(parseFloat(null===(s=m.discount)||void 0===s?void 0:s.discount_amount).toFixed(2))})]})]})]}),Object(x.jsx)("tfoot",{className:"table__footer",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Total"}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{className:"text-center",children:"$".concat(j.toFixed(2))})]})})]})},Me=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,Ee=function(e){e.snacks,e.vegans;var t,a=e.addOns,i=e.fallMenus,l=(e.customizations,e.selectedPackage),r=e.selectedGoal,u=e.shipping,j=e.handleSelect,h=e.selectedDelivery,m=e.deliveryOption,p=e.setDeliveryOption,b=e.deliveryTime,O=e.setDeliveryTime,v=e.total,g=e.isContactValid,f=e.handleIsContactValid,_=e.handleProceed,y=Object(c.useContext)(U),N=Object(c.useState)(""),k=Object(o.a)(N,2),C=k[0],S=k[1],w=Object(c.useState)("cash"),z=Object(o.a)(w,2),P=z[0],D=z[1],T=function(e){return function(t){t.preventDefault(),D(e)}},R=Object(c.useState)(""),F=Object(o.a)(R,2),L=F[0],I=F[1],V=Object(c.useState)(""),A=Object(o.a)(V,2),M=A[0],$=A[1],G=Object(c.useState)(!0),K=Object(o.a)(G,2),q=K[0],J=K[1],B=function(e){var t=Object(c.useState)(e),a=Object(o.a)(t,2),i=a[0],l=a[1];return[i,function(e){l(Object(n.a)(Object(n.a)({},i),{},Object(s.a)({},e.target.id,e.target.value)))}]}({fullName:"",phone:"",address:"",address2:"",postalCode:"",specialInstructions:""}),Y=Object(o.a)(B,2),Q=Y[0],H=Y[1],W=function(){J(Me.test(M))};return Object(c.useEffect)((function(){var e=Object.keys(i[0]),t=i.map((function(t){return e.map((function(e){var a=e.split("_").map((function(e){return Object(se.capitalize)(e)})).join(" ");return"customization_price"===e?null:"".concat(a,": ").concat(t[e].constructor===Object?t[e]&&t[e].variation?t[e].variation:t[e].post_title||"None":t[e])})).join("\r\n")})),s=a.length>0?a.map((function(e){return"Snack: ".concat(e.snack.post_title,"\n            Quantity: ").concat(e.count,"\n            ")})).join("\r\n"):"",n=[].concat(Object(d.a)(t),[s]).join("\r\n");S(n)}),[i,a,C]),Object(c.useEffect)((function(){return I(u.delivery_locations[+h]),I(u.delivery_locations[+h])}),[L,h]),Object(c.useEffect)((function(){"delivery"===m?"default"!==h&&Q.fullName.length>0&&Q.phone.length>0&&Q.address.length>0&&q?f(!0):f(!1):Q.fullName.length>0&&Q.phone.length>0&&q?f(!0):f(!1),_()}),[m,h,q,Q.address,Q.fullName,Q.phone]),Object(c.useEffect)((function(){_()}),[g]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("section",{className:"section section--review",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Review Your Order"}),Object(x.jsx)("p",{className:"section__subheading",children:"Take a look at your orders and make sure that we have everything you want and need!"}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid",children:[Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(Ue,{fallMenus:i,addOns:a,selectedPackage:l,shipping:u,goal:r,selectedDelivery:h,deliveryOption:m,total:v})}),Object(x.jsx)("div",{className:"cell small-12 large-6",children:Object(x.jsx)(ae,{handleSelect:j,shipping:u,setDeliveryOption:p,deliveryOption:m,values:Q,handleChange:H,city:"default"===h?"default":h,email:M,setEmail:function(e){$(e.target.value),W()},checkEmail:W,isEmailValid:q,deliveryTime:b,setDeliveryTime:O})})]})]})}),Object(x.jsxs)("section",{className:"section section--payment",children:[Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{className:"section__heading",children:"Payment Option"}),Object(x.jsx)("p",{className:"section__subheading",children:"Unfortunately, we currently do not accept pre-payment via credit card or debit card. Cash or e-Transfer only."}),Object(x.jsxs)("div",{className:"grid-x grid-margin-x section__grid align-center",children:[Object(x.jsxs)("div",{onClick:T("cash"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("cash"===P?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"Cash"}),Object(x.jsxs)("div",{className:"card-section align-justify",children:[Object(x.jsx)("p",{children:"Deposit Required. Paid on Day-Of."}),Object(x.jsx)(E,{handleClick:T("cash"),text:"cash"===P?"Selected":"Select",isActive:"cash"===P})]})]}),Object(x.jsxs)("div",{onClick:T("etransfer"),className:"card text-center small-12 medium-6 large-4 card__item card__item--title "+("etransfer"===P?"card__item--active":""),children:[Object(x.jsx)("div",{className:"card-divider",children:"E-Transfer"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsxs)("p",{children:["Paid to ",Object(x.jsx)("a",{href:"mailto:roundaxxfitness@gmail.com",children:"roundaxxfitness@gmail.com"})]}),Object(x.jsx)("p",{children:"Transferred by Sunday 9PM latest"}),Object(x.jsx)(E,{handleClick:T("etransfer"),text:"etransfer"===P?"Selected":"Select",isActive:"etransfer"===P})]})]})]})]}),Object(x.jsx)("input",{type:"hidden",name:"1",value:Q.fullName}),Object(x.jsx)("input",{type:"hidden",name:"2",value:l.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"3",value:r.title.rendered}),Object(x.jsx)("input",{type:"hidden",name:"5",value:v.toFixed(2)}),Object(x.jsx)("input",{type:"hidden",name:"6",value:m}),Object(x.jsx)("input",{type:"hidden",name:"7",value:b}),Object(x.jsx)("input",{type:"hidden",name:"8",value:P}),Object(x.jsx)("input",{type:"hidden",name:"18",value:M}),Object(x.jsx)("input",{type:"hidden",name:"10",value:Q.phone}),Object(x.jsx)("input",{type:"hidden",name:"11",value:Q.address}),Object(x.jsx)("input",{type:"hidden",name:"12",value:Q.address2}),Object(x.jsx)("input",{type:"hidden",name:"13",value:null!==(t=null===L||void 0===L?void 0:L.location)&&void 0!==t?t:""}),Object(x.jsx)("input",{type:"hidden",name:"14",value:Q.postalCode}),Object(x.jsx)("input",{type:"hidden",name:"15",value:Q.specialInstructions}),Object(x.jsx)("input",{type:"hidden",name:"16",value:C}),Object(x.jsx)("input",{type:"hidden",name:"17",value:"No"}),Object(x.jsx)("input",{type:"hidden",name:"19",value:y.codeInput})]})]})},$e=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(e){var n,c;return Object(m.a)(this,a),(c=t.call(this,e)).getData=Object(h.a)(j.a.mark((function e(){var t,a,s,n,i,l,r,d,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/types"));case 2:return t=e.sent,e.next=5,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/packages?order=asc&per_page=100"));case 5:return a=e.sent,e.next=8,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/goals?order=asc&per_page=100"));case 8:return s=e.sent,e.next=11,q.a.get("".concat(c.baseURL,"/wp-json/acf/v3/options/options"));case 11:return n=e.sent,e.next=14,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/salads?order=asc&per_page=100"));case 14:return i=e.sent,e.next=17,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snacks?order=asc&per_page=100"));case 17:return l=e.sent,e.next=20,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/snack_sizes?order=asc&per_page=100"));case 20:return r=e.sent,e.next=23,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/fall_menu?order=asc&per_page=100"));case 23:return d=e.sent,e.next=26,q.a.get("".concat(c.baseURL,"/wp-json/wp/v2/juice?order=asc&per_page=100"));case 26:u=e.sent,Promise.all([t,a,s,n,i,l,r,d,u]).then((function(e){var t=Object(o.a)(e,9),a=t[0],s=t[1],n=t[2],i=t[3],l=t[4],r=t[5],d=t[6],u=t[7],j=t[8];c.setState({types:a.data,packages:s.data,goals:n.data,shippingOptions:i.data.acf,deliveryTime:"",salads:l.data,snacks:r.data,snackSizes:d.data,fallMenu:u.data,juices:j.data,isDataLoaded:!0})}));case 28:case"end":return e.stop()}}),e)}))),c.scrollToTop=function(){document.getElementById("form-anchor").scrollIntoView({behavior:"smooth",block:"start"})},c.handlePrevStepChange=function(e){e.preventDefault(),c.setState({step:c.state.step-1,modalActive:!0})},c.handleNextStepChange=function(e){if(e.preventDefault(),1===c.state.step)w(c.state.selectedPackage)||w(c.state.selectedGoal)||(c.setState({step:c.state.step+1}),c.scrollToTop());else if(2===c.state.step){if(0!==c.state.fallMenusRemaining)return!1;c.setState({step:c.state.step+1})}else c.state.isContactValid&&document.getElementById("order-form").submit()},c.handlePackageSelect=function(e){return function(t){t.preventDefault(),e.acf&&c.setState({selectedPackage:e,fallMenusRemaining:+e.acf.meal_count})}},c.handleFallMenuChange=function(e,t){c.setState({selectedFallMenus:[].concat(Object(d.a)(c.state.selectedFallMenus.filter((function(t){return t.item.id!==e.id}))),[{item:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.item.id-t.item.id}))})},c.handleSnackChange=function(e,t){c.setState({addOns:[].concat(Object(d.a)(c.state.addOns.filter((function(t){return t.snack.id!==e.id}))),[{snack:e,count:t}]).filter((function(e){return e.count>0})).sort((function(e,t){return e.snack.id-t.snack.id}))})},c.handleComments=function(e){c.setState({comments:e})},c.handleProceed=function(){1===c.state.step&&(w(c.state.selectedPackage)||w(c.state.selectedGoal)?c.setState({canProceed:!1}):c.setState({canProceed:!0}))},c.handleSelect=function(e,t){return function(a){a.preventDefault(),c.setState(Object(s.a)({},e,t))}},c.handleDeliverySelect=function(e){c.setState({selectedDeliveryLocation:e})},c.setDeliveryOption=function(e){return function(t){t.preventDefault(),c.setState({deliveryOption:e})}},c.setDeliveryTime=function(e){return function(t){t.preventDefault(),c.setState({deliveryTime:e})}},c.handleIsContactValid=function(e){c.setState({isContactValid:e})},c.toggleModal=function(e){e.preventDefault(),c.setState({modalActive:!c.state.modalActive})},c.handleNoThanks=function(e){e.preventDefault(),c.setState({modalActive:!c.state.modalActive,addOnsRemaining:14,addOns:[]})},c.renderSections=function(){var e=c.state.step;if(!e)return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})});switch(e){case 1:return Object(x.jsx)(Ie,{meta:c.state.types,packages:c.state.packages,goals:c.state.goals,handleSelect:c.handleSelect,handlePackageSelect:c.handlePackageSelect,selectedPackage:c.state.selectedPackage,selectedGoal:c.state.selectedGoal});case 2:return Object(x.jsx)(Ae,{fallMenus:c.state.fallMenu});case 3:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ee,{fallMenus:c.state.selectedFallMenus,selectedPackage:c.state.selectedPackage,selectedGoal:c.state.selectedGoal,selectedDelivery:c.state.selectedDeliveryLocation,shipping:c.state.shippingOptions,handleSelect:c.handleDeliverySelect,deliveryOption:c.state.deliveryOption,setDeliveryOption:c.setDeliveryOption,deliveryTime:c.state.deliveryTime,setDeliveryTime:c.setDeliveryTime,total:c.state.total,isContactValid:c.state.isContactValid,handleIsContactValid:c.handleIsContactValid,handleProceed:c.handleProceed,addOns:c.state.addOns}),Object(x.jsx)(re,{items:[].concat(Object(d.a)(c.state.salads),Object(d.a)(c.state.snacks),Object(d.a)(c.state.juices)),active:c.state.modalActive,toggleModal:c.toggleModal,handleNoThanks:c.handleNoThanks})]});default:return Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}},c.state={step:1,isDataLoaded:!1,types:{},packages:[],goals:[],fallMenu:[],selectedFallMenus:[],fallMenusRemaining:null,salads:[],juices:[],snackSizes:[],snacks:[],selectedSnacks:[],addOns:[],addOnsRemaining:I,shippingOptions:null,selectedPackage:{},packageAmount:1,selectedGoal:{},snacksRemaining:null,totalCustomizations:0,currentCustomization:{},customizations:[],comments:"",selectedDeliveryLocation:"default",deliveryOption:"delivery",deliveryTime:"",isContactValid:!1,canProceed:!1,total:null,modalActive:!0},c.baseURL=(null===(n=c.props)||void 0===n?void 0:n.homeUrl)||"https://fitaxxmeals.com",c}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(t.selectedPackage===this.state.selectedPackage&&t.selectedGoal===this.state.selectedGoal&&t.step===this.state.step||this.handleProceed(),t.addOns!==this.state.addOns&&this.setState({addOnsRemaining:I-+this.state.addOns.reduce((function(e,t){return e+t.count}),0)}),t.selectedPackage!==this.state.selectedPackage||t.selectedGoal!==this.state.selectedGoal||t.step!==this.state.step||t.selectedDeliveryLocation!==this.state.selectedDeliveryLocation||t.deliveryOption!==this.state.deliveryOption||t.addOns!==this.state.addOns||t.selectedFallMenus!==this.state.selectedFallMenus||e.discount!==this.props.discount){var a,s,n,c,i=+(null===(a=this.state.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.price)+(this.state.selectedGoal.acf&&this.state.selectedPackage.acf?+this.state.selectedPackage.acf.meal_count*+this.state.selectedGoal.acf.portion_price:0)+("default"!==this.state.selectedDeliveryLocation&&"delivery"===this.state.deliveryOption?+this.state.shippingOptions.delivery_locations[this.state.selectedDeliveryLocation].price:0)+(this.state.selectedFallMenus.length>0?this.state.selectedFallMenus.reduce((function(e,t){var a,s;return+t.count*parseFloat(+(null===(a=t.item)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.extra_charge)||0)+ +e}),0):0)+(this.state.addOns.length>0?5*this.state.addOns.reduce((function(e,t){return e+t.count}),0):0)-(this.props.discount?+(null===(n=this.props)||void 0===n||null===(c=n.discount)||void 0===c?void 0:c.discount_amount):0);this.setState({total:i})}var l,r;t.selectedFallMenus!==this.state.selectedFallMenus&&this.setState({fallMenusRemaining:+(null===(l=this.state.selectedPackage)||void 0===l||null===(r=l.acf)||void 0===r?void 0:r.meal_count)-+this.state.selectedFallMenus.reduce((function(e,t){return e+t.count}),0)})}},{key:"render",value:function(){var e,t,a,s;return this.state.isDataLoaded?Object(x.jsx)(P,{value:{baseURL:this.baseURL,handleSnackChange:this.handleSnackChange,snacksRemaining:this.state.addOnsRemaining,handleComments:this.handleComments,comments:this.state.comments,fallMenusRemaining:this.state.fallMenusRemaining,handleFallMenuChange:this.handleFallMenuChange,allowedAddons:I,total:this.state.total,shippingOptions:this.state.shippingOptions,deliveryOption:this.state.deliveryOption,selectedDeliveryLocation:this.state.selectedDeliveryLocation},children:Object(x.jsxs)(je,{value:null===(e=this.state)||void 0===e?void 0:e.selectedPackage,children:[Object(x.jsxs)("div",{className:"form__header grid-container grid-x align-justify align-middle",children:[Object(x.jsx)(v,{step:this.state.step}),Object(x.jsx)(ve,{itemCount:+(null===(t=this.state)||void 0===t||null===(a=t.selectedPackage)||void 0===a||null===(s=a.acf)||void 0===s?void 0:s.meal_count),total:this.state.total})]}),Object(x.jsx)("div",{className:"grid-container",children:this.renderSections()}),Object(x.jsx)(N,{canProceed:this.state.canProceed,handleNextStepChange:this.handleNextStepChange,handlePrevStepChange:this.handlePrevStepChange,step:this.state.step})]})}):Object(x.jsx)("div",{className:"spinner-container",children:Object(x.jsx)("span",{className:"spinner fa fa-spin fa-spinner fa-3x fa-fw"})})}}]),a}(c.Component),Ge="snack",Ke="meal",qe="vegan",Je="juice",Be="fall_menu",Ye=function(e){var t=e.homeUrl,a=Object(c.useState)(null),s=Object(o.a)(a,2),n=s[0],i=s[1],l=Object(c.useState)(""),r=Object(o.a)(l,2),d=r[0],u=r[1],j=Object(c.useState)(0),h=Object(o.a)(j,2),m=h[0],p=h[1];return Object(x.jsx)(A,{value:{homeUrl:t,discount:m,setDiscount:p,codeInput:d,setCodeInput:u},children:Object(x.jsxs)("form",{id:"order-form",className:"order",action:"".concat(null!==t&&void 0!==t?t:"","/wp-content/themes/fitaxxmeals/page-templates/inc/process-order.php"),encType:"multipart/form-data",method:"post",children:[Object(x.jsx)("div",{id:"form-anchor"}),!n&&Object(x.jsx)("section",{style:{minHeight:200},className:"section grid-container",children:Object(x.jsxs)("div",{className:"section__item",children:[Object(x.jsx)("h2",{style:{textAlign:"center"},className:"section__heading",children:"Select Menu"}),Object(x.jsx)("p",{className:"section__subheading",style:{textAlign:"center"},children:"Choose which menu you'd like to order from."}),Object(x.jsxs)("div",{className:"section__grid grid-x grid-margin-x align-large-justify align-spaced",children:[Object(x.jsxs)("div",{onClick:function(){return i(Ke)},className:"card text-center small-12 medium-6 card__item card__item--title card__item--active",children:[Object(x.jsx)("div",{className:"card-divider",children:"Meals"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsx)("p",{children:"Customize your own meals"}),Object(x.jsxs)("button",{onClick:function(){return i(Ke)},className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:"Select"}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa fa-arrow-right"})]})]})]}),Object(x.jsxs)("div",{onClick:function(){return i(Be)},className:"card text-center small-12 medium-6 card__item card__item--title card__item--active",children:[Object(x.jsx)("div",{className:"card-divider",children:"Pre-made Meals"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsx)("p",{children:"Choose from premade meals."}),Object(x.jsxs)("button",{onClick:function(){return i(Be)},className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:"Select"}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa fa-arrow-right"})]})]})]}),Object(x.jsxs)("div",{onClick:function(){return i(Ge)},className:"card text-center small-12 medium-6 card__item card__item--title card__item--active",children:[Object(x.jsx)("div",{className:"card-divider",children:"Snacks"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsx)("p",{children:"Healthy snacks for the munchies"}),Object(x.jsxs)("button",{onClick:function(){return i(Ge)},className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:"Select"}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa fa-arrow-right"})]})]})]}),Object(x.jsxs)("div",{onClick:function(){return i(qe)},className:"card text-center small-12 medium-6 card__item card__item--title card__item--active",children:[Object(x.jsx)("div",{className:"card-divider",children:"Vegan"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsx)("p",{children:"Vegan Menu"}),Object(x.jsxs)("button",{onClick:function(){return i(qe)},className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:"Select"}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa fa-arrow-right"})]})]})]}),Object(x.jsxs)("div",{onClick:function(){return i(Je)},className:"card text-center small-12 medium-6 card__item card__item--title card__item--active",children:[Object(x.jsx)("div",{className:"card-divider",children:"Juices"}),Object(x.jsxs)("div",{className:"card-section",children:[Object(x.jsx)("p",{children:"Juice Menu"}),Object(x.jsxs)("button",{onClick:function(){return i(Je)},className:"input-group select-button ",children:[Object(x.jsx)("span",{className:"input-group-field select-button__text",children:"Select"}),Object(x.jsx)("span",{className:"input-group-label select-button__icon fa fa-arrow-right"})]})]})]})]})]})}),function(e){switch(e){case Ge:return Object(x.jsx)(ge,{homeUrl:t,discount:m});case Ke:return Object(x.jsx)(oe,{homeUrl:t,discount:m});case qe:return Object(x.jsx)(Se,{homeUrl:t,discount:m});case Je:return Object(x.jsx)(Le,{homeUrl:t,discount:m});case Be:return Object(x.jsx)($e,{homeUrl:t,discount:m});default:return null}}(n)]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=document.getElementById("root"),He={};for(var We in Qe.dataset)He=Object(n.a)(Object(n.a)({},He),{},Object(s.a)({},We,Qe.dataset[We]));var Ze=Object.assign({},He);r.a.render(Object(x.jsx)(Ye,Object(n.a)({},Ze)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.559e67ad.chunk.js.map